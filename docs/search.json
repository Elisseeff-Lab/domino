[{"path":"/articles/domino2.html","id":"using-domino2-v0-2-2-for-cell-cell-communication-inference","dir":"Articles","previous_headings":"","what":"Using domino2 v0.2.2 for cell-cell communication inference","title":"Get Started with domino2","text":"domino2 tool analysis intra- intercellular signaling single cell RNA sequencing (scRNAseq) data based transcription factor (TF) activation. , show basic example pipeline generating communication networks domino object. vignette demonstrate use domino2 10X Genomics Peripheral Blood Mononuclear Cells (PBMC) data set 2,700 cells. data can downloaded .","code":""},{"path":"/articles/domino2.html","id":"preprocessing-scrnaseq-data","dir":"Articles","previous_headings":"Using domino2 v0.2.2 for cell-cell communication inference","what":"Preprocessing scRNAseq data","title":"Get Started with domino2","text":"Analysis cell-cell communication domino2 often follows initial processing annotation scRNAseq data. used Satija Lab’s Guided Clustering Tutorial prepare data set analysis domino2. complete processing script available data-raw directory domino2 package. processed data can downloaded Zenodo.","code":"pbmc <- readRDS(paste0(pbmc_dir, \"/pbmc_seurat.rds\"))"},{"path":"/articles/domino2.html","id":"saving-preprocessed-data","dir":"Articles","previous_headings":"Using domino2 v0.2.2 for cell-cell communication inference > Preprocessing scRNAseq data","what":"Saving Preprocessed Data:","title":"Get Started with domino2","text":"domino2 designed compatible Seurat objects addition accepting matrices vectors data set function inputs. Therefore, ’s good idea save processed Seurat object analysis. However, pySCENIC used TF activation inference, requires input cell gene matrix. opposite orientation Seurat objects default Python based tools scanpy. RNA counts matrix can saved tab-seperated value (.tsv) comma-sperated value (.csv) file transposing matrix cell gene orientation. tsv csv files inefficient storing large matrices. alternative, counts matrix can saved loom file directly passed pySCENIC format. Generating loom file R requires use loomR package. package automatically handles transposition counts matrix cell gene orientation well. recommend approach passing counts matrix pySCENIC. However, users aware loomR hosted CRAN BioConductor time vignette’s creation. cell x gene counts matrix may also saved tab-separated value (.tsv) file loomR used computing resource, aware dense formatting .tsv can lead large file sizes slow processing large data sets. provided necessary code , due large file size, .tsv file provided data directory. like skip ahead rest analysis, processed objects steps available data directory package.","code":"# save Seurat object as RDS save(pbmc, file = paste0(input_dir, \"/pbmc.rda\"))  pbmc_counts <- GetAssayData(object = pbmc, slot = \"counts\") write.table(t(as.matrix(pbmc_counts)), paste0(input_dir, \"/pbmc3k_counts.tsv\"), sep = \"\\t\",     col.names = NA) library(loomR)  # save loom counts matrix pbmc_counts <- GetAssayData(object = pbmc, slot = \"counts\") pbmc_loom <- loomR::create(filename = paste0(input_dir, \"/pbmc3k_counts.loom\"), data = pbmc_counts) # connection to the loom file must be closed to complete file creation pbmc_loom$close_all()"},{"path":"/articles/domino2.html","id":"installation","dir":"Articles","previous_headings":"Using domino2 v0.2.2 for cell-cell communication inference","what":"Installation","title":"Get Started with domino2","text":"Installation domino2 Github can achieved using remotes package. current stable version v0.2.2, install branch.","code":"if (!require(remotes)) {     install.packages(\"remotes\") } remotes::install_github(\"FertigLab/domino2@v0.2.2\")"},{"path":"/articles/domino2.html","id":"additional-downloads","dir":"Articles","previous_headings":"Using domino2 v0.2.2 for cell-cell communication inference > Installation","what":"Additional Downloads","title":"Get Started with domino2","text":"tutorial, pySCENIC used method TF activity inference assessment ligand-receptor interactions based curated interactions CellPhoneDB v4.0.0. requires downloading files prior use analysis pipeline.","code":""},{"path":"/articles/domino2.html","id":"downloads-for-scenic","dir":"Articles","previous_headings":"Using domino2 v0.2.2 for cell-cell communication inference > Installation > Additional Downloads","what":"Downloads for SCENIC:","title":"Get Started with domino2","text":"singularity image SCENIC v0.12.1 can installed DockerHub image source (example scripts use Docker provided scenic_bash directory well). SCENIC requires list TFs, motif annotations, cisTarget motifs available authors SCENIC human (HGNC), mouse (MGI), fly. following download everything necessary analysis data set HGNC gene labels hg38 genome.","code":"SCENIC_DIR=\"'temp_dir'/scenic\" mkdir ${SCENIC_DIR}  # Build singularity image singularity build \"${SCENIC_DIR}/aertslab-pyscenic-0.12.1.sif\" docker://aertslab/pyscenic:0.12.1  # Matrix containing motifs as rows and genes as columns and ranking position for each gene and motif (based on CRM scores) as values. URLs provided link to v2 feather files required for the 0.12.1 version of pySENIC.  curl \"https://resources.aertslab.org/cistarget/databases/homo_sapiens/hg38/refseq_r80/mc_v10_clust/gene_based/hg38_10kbp_up_10kbp_down_full_tx_v10_clust.genes_vs_motifs.rankings.feather\" \\   -o \"${SCENIC_DIR}/hg38_10kbp_up_10kbp_down_full_tx_v10_clust.genes_vs_motifs.rankings.feather\"  curl \"https://resources.aertslab.org/cistarget/databases/homo_sapiens/hg38/refseq_r80/mc_v10_clust/gene_based/hg38_500bp_up_100bp_down_full_tx_v10_clust.genes_vs_motifs.rankings.feather\" \\   -o \"${SCENIC_DIR}/hg38_500bp_up_100bp_down_full_tx_v10_clust.genes_vs_motifs.rankings.feather\"  # List of genes encoding TFs in the HG38 reference genome curl \"https://resources.aertslab.org/cistarget/tf_lists/allTFs_hg38.txt\" \\   -o \"${SCENIC_DIR}/allTFs_hg38.txt\"  # Motif annotations based on the 2017 cisTarget motif collection. Use these files if you are using the mc9nr databases. curl \"https://resources.aertslab.org/cistarget/motif2tf/motifs-v9-nr.hgnc-m0.001-o0.0.tbl\" \\   -o \"${SCENIC_DIR}/motifs-v9-nr.hgnc-m0.001-o0.0.tbl\""},{"path":"/articles/domino2.html","id":"downloads-for-cellphonedb","dir":"Articles","previous_headings":"Using domino2 v0.2.2 for cell-cell communication inference > Installation > Additional Downloads","what":"Downloads for CellPhoneDB:","title":"Get Started with domino2","text":"Database files CellPhoneDB v4.0.0 human scRNAseq data can installed public Github repository Tiechmann Group developed CellPhoneDB.","code":"# cellphone_url <- \"https://github.com/ventolab/cellphonedb-data/archive/refs/tags/v4.0.0.tar.gz\"  # download compressed database cellphone_tar <- paste0(temp_dir, \"/cellphoneDB_v4.tar.gz\") download.file(url = cellphone_url, destfile = cellphone_tar)  # move contents of the compressed file to a new directory untar(tarfile = cellphone_tar, exdir = cellphone_dir) cellphone_data <- paste0(cellphone_dir, \"/cellphonedb-data-4.0.0/data\")"},{"path":"/articles/domino2.html","id":"scenic-analysis","dir":"Articles","previous_headings":"Using domino2 v0.2.2 for cell-cell communication inference","what":"SCENIC Analysis","title":"Get Started with domino2","text":"SCENIC lab’s preferred software TF activity scoring. recommend using Python implementation (pySCENIC) faster original R implementation. aware, use SCENIC often slowest memory intensive step analysis pipeline. SCENIC run computing resources access multi-core processing large amounts memory. described section saving preprocessed data, SCENIC requires RNA counts provided cell gene matrix format, using pbmc3k_counts.loom file stage analysis. pySCENIC initiated using bash scripting terminal. analysis consists 3 steps score genes TF motif enrichment, construct TF regulons consisting genes targeted TFs, arrive AUC scores enrichment regulon gene transcription within cell.","code":""},{"path":"/articles/domino2.html","id":"grn-construct-tf-modules","dir":"Articles","previous_headings":"Using domino2 v0.2.2 for cell-cell communication inference > SCENIC Analysis","what":"grn: construct TF-modules","title":"Get Started with domino2","text":"Co-expression modules used quantify gene-TF adjacencies.","code":"singularity exec \"${SCENIC_DIR}/aertslab-pyscenic-0.12.1.sif\" pyscenic grn \\     \"../data/pbmc3k_counts.loom\" \\     \"${SCENIC_DIR}/allTFs_hg38.txt\" \\     -o \"${SCENIC_DIR}/pbmc_adj.tsv\" \\     --num_workers 6 \\     --seed 123  # Arguments:     # path to the loom file     # list of TFs     # output directory for the adjacency matrix     # number of CPUs to use if multi-core processing is available     # specify a random seed for reproducibility"},{"path":"/articles/domino2.html","id":"ctx-construct-tf-regulons-with-pruning-based-on-tf-motif-enrichment","dir":"Articles","previous_headings":"Using domino2 v0.2.2 for cell-cell communication inference > SCENIC Analysis","what":"ctx: construct TF regulons with pruning based on TF motif enrichment","title":"Get Started with domino2","text":"rankings genes based enrichment TF motifs transcription start site (TSS) considered construction regulons, target genes TF-modules removed lack motifs proximal TSS TF may bind.","code":"singularity exec \"${SCENIC_DIR}/aertslab-pyscenic-0.12.1.sif\" pyscenic ctx \\     \"${SCENIC_DIR}/pbmc_adj.tsv\" \\     \"${SCENIC_DIR}/hg38_10kbp_up_10kbp_down_full_tx_v10_clust.genes_vs_motifs.rankings.feather\" \\     \"${SCENIC_DIR}/hg38_500bp_up_100bp_down_full_tx_v10_clust.genes_vs_motifs.rankings.feather\" \\     --annotations_fname \"${SCENIC_DIR}/motifs-v9-nr.hgnc-m0.001-o0.0.tbl\" \\     --expression_mtx_fname \"data/pbmc3k_counts.loom\" \\     --mode \"dask_multiprocessing\" \\     --output \"${SCENIC_DIR}/pbmc_regulons.csv\" \\     --num_workers 1                                                            # Arguments:     # adjacency matrix output from grn     # target rankings of motif enrichment within 10 kb of TSS     # target rankings of motif enrichment within 500 bp upstream and 100 bp downstream of TSS     # TF motif features     # counts matrix loom file     # enable multi-core processing     # output file of learned TF regulons     # number of CPU cores"},{"path":"/articles/domino2.html","id":"aucell-calculate-tf-activity-scores","dir":"Articles","previous_headings":"Using domino2 v0.2.2 for cell-cell communication inference > SCENIC Analysis","what":"aucell: calculate TF activity scores","title":"Get Started with domino2","text":"Enrichment regulon measured Area recovery Curve (AUC) genes define regulon.","code":"singularity exec \"${SCENIC_DIR}/aertslab-pyscenic-0.12.1.sif\" pyscenic aucell \\     \"../data/pbmc3k_counts.loom\" \\     \"${SCENIC_DIR}/pbmc_regulons.csv\" \\     -o \"${SCENIC_DIR}/pbmc_auc.csv\"      # Arguments:     # counts matrix loom file     # regulon table output from ctx     # cell x TF matrix of TF enrichment AUC values"},{"path":[]},{"path":"/articles/domino2.html","id":"loading-scenic-results","dir":"Articles","previous_headings":"Using domino2 v0.2.2 for cell-cell communication inference > Building a Signaling Network with domino2","what":"Loading SCENIC Results","title":"Get Started with domino2","text":"TF activities required input domino2, regulons learned SCENIC important optional input needed annotate TF-target interactions prune TF-receptor linkages receptor target TF. prevents distinction receptor expression driving TF activity TF inducing receptor’s expression. initial regulons data frame read R ctx function 2 rows column names need replaced one succinct description. domino2 changed input format TF regulons list storing vectors target genes regulon, names list TF genes. facilitates use alternative methods TF activity quantification. provide helper function, create_regulon_list_scenic() easy retrieval TF regulons output pySCENIC ctx function. Users aware AUC matrix SCENIC loaded cell x TF orientation transposed TF x cell orientation. pySCENIC also appends “(+)” TF names converted “…” upon loading R. characters can included without affecting results domino2 analysis, can confusing querying TF features data. recommend comprehensive removal “…” characters using gsub() function.","code":"regulons <- read.csv(paste0(scenic_dir, \"/regulons_pbmc_3k.csv\")) auc <- read.table(paste0(scenic_dir, \"/auc_pbmc_3k.csv\"), header = TRUE, row.names = 1,     stringsAsFactors = FALSE, sep = \",\") regulons <- regulons[-1:-2, ] colnames(regulons) <- c(\"TF\", \"MotifID\", \"AUC\", \"NES\", \"MotifSimilarityQvalue\", \"OrthologousIdentity\",     \"Annotation\", \"Context\", \"TargetGenes\", \"RankAtMax\") regulon_list <- create_regulon_list_scenic(regulons = regulons) auc_in <- as.data.frame(t(auc)) # Remove pattern '...' from the end of all rownames: rownames(auc_in) <- gsub(\"\\\\.\\\\.\\\\.$\", \"\", rownames(auc_in))"},{"path":"/articles/domino2.html","id":"load-cellphonedb-database","dir":"Articles","previous_headings":"Using domino2 v0.2.2 for cell-cell communication inference > Building a Signaling Network with domino2","what":"Load CellPhoneDB Database","title":"Get Started with domino2","text":"domino2 updated read ligand-receptor data bases uniform data.frame format referred receptor-ligand map (rl_map) enable use alternative updated reference databases opposed particular version CellPhoneDB’s database older versions Domino. row corresponds ligand-receptor interaction. Genes participating interaction referred “partner ” “partner B” without requirement fixed ordering whether B ligand vice versa. minimum required columns data frame : int_pair: names interacting ligand receptor separated \" & \" gene_A: gene genes encoding partner gene_B: gene genes encoding partner B type_A: (“L”, “R”) - indicates whether partner ligand (“L”) receptor (“R”) type_B: (“L”, “R”) - indicates whether partner B ligand (“L”) receptor (“R”) Additional annotation columns can provided name_A name_B ligands receptors whose name interaction database match names encoding genes. formatting also allows consideration ligand receptor complexes comprised heteromeric combination multiple proteins must co-expressed function. cases, “name_*” column shows name protein complex, “gene_*” column shows names genes encoding components complex separated commas “,”. plotting results build domino object, names interacting ligands receptors used based combinatorial expression complex components. facilitate use formatting CellPhoneDB database, include helper function, create_rl_map_cellphonedb(), automatically parses files cellPhoneDB database arrive rl_map format.","code":"complexes <- read.csv(paste0(cellphone_dir, \"/cellphonedb-data-4.0.0/data/complex_input.csv\"),     stringsAsFactors = FALSE) genes <- read.csv(paste0(cellphone_dir, \"/cellphonedb-data-4.0.0/data/gene_input.csv\"),     stringsAsFactors = FALSE) interactions <- read.csv(paste0(cellphone_dir, \"/cellphonedb-data-4.0.0/data/interaction_input.csv\"),     stringsAsFactors = FALSE) proteins <- read.csv(paste0(cellphone_dir, \"/cellphonedb-data-4.0.0/data/protein_input.csv\"),     stringsAsFactors = FALSE)  rl_map <- create_rl_map_cellphonedb(genes = genes, proteins = proteins, interactions = interactions,     complexes = complexes, database_name = \"CellPhoneDB_v4.0\"  # database version used )  knitr::kable(head(rl_map))"},{"path":"/articles/domino2.html","id":"optional-adding-interactions-manually","dir":"Articles","previous_headings":"Using domino2 v0.2.2 for cell-cell communication inference > Building a Signaling Network with domino2 > Load CellPhoneDB Database","what":"Optional: Adding interactions manually","title":"Get Started with domino2","text":"change use rl_map formatting also enables users manually append interactions interest included interaction database need . can attained formatting desired interactions data.frame column headers rl_map using rbind() function.","code":"# Integrin complexes are not annotated as receptors in CellPhoneDB_v4.0 # collagen-integrin interactions between cells may be missed unless tables from # the CellPhoneDB reference are edited or the interactions are manually added  col_int_df <- data.frame(int_pair = \"a11b1 complex & COLA1_HUMAN\", name_A = \"a11b1 complex\",     uniprot_A = \"P05556,Q9UKX5\", gene_A = \"ITB1,ITA11\", type_A = \"R\", name_B = \"COLA1_HUMAN\",     uniprot_B = \"P02452,P08123\", gene_B = \"COL1A1,COL1A2\", type_B = \"L\", annotation_strategy = \"manual\",     source = \"manual\", database_name = \"manual\") rl_map_append <- rbind(col_int_df, rl_map) knitr::kable(head(rl_map_append))"},{"path":"/articles/domino2.html","id":"creating-the-domino-object","dir":"Articles","previous_headings":"Using domino2 v0.2.2 for cell-cell communication inference","what":"Creating the Domino Object","title":"Get Started with domino2","text":"domino2 analysis takes place two steps. 1. create_domino() initializes domino result object assesses differential TF activity across cell clusters wilcoxon rank-sum test establishes TF-receptor linkages based Spearman correlation TF activities receptor expression across queried data set. build_domino() sets parameters TFs receptors called active within cell cluster aggregates scaled expression ligands capable interacting active receptors assessment ligand type cellular source triggering activation receptor.","code":""},{"path":"/articles/domino2.html","id":"required-inputs-from-data-set","dir":"Articles","previous_headings":"Using domino2 v0.2.2 for cell-cell communication inference > Creating the Domino Object","what":"Required inputs from data set","title":"Get Started with domino2","text":"domino2 infers active receipt signals via receptors based correlation receptor’s expression TF activity across data set differential activity TF within cell cluster. Correlations conducted using scaled expression values rather raw counts normalized counts. assessment receptor activity per cell type basis, named vector cell cluster assignments, names cell barcodes matching expression matrix, provided. Assessing signaling based categorical groupings cells can achieved passing groupings “clusters” build_domino() place cell types. domino2 accepts either Seurat object counts, scaled counts, clusters included, requires matrix counts, matrix scaled counts, named vector cell cluster labels factors. Shown extract elements Seurat object. Note: Ligand receptor expression can assessed genes included z_scores matrix. Many scRNAseq analysis pipelines recommend storing genes high variance scaled expression slots data objects, thereby missing many genes encoding ligands receptors. Ensure genes interest included rows z_scores matrix. Scaled expression calculated genes PBMC data set removal genes expressed less 3 cells.","code":"counts <- GetAssayData(object = pbmc, slot = \"counts\") z_scores <- as.matrix(GetAssayData(object = pbmc, slot = \"scale.data\")) clusters <- pbmc$cell_type"},{"path":"/articles/domino2.html","id":"create-domino-object","dir":"Articles","previous_headings":"Using domino2 v0.2.2 for cell-cell communication inference > Creating the Domino Object","what":"Create Domino object","title":"Get Started with domino2","text":"point, create_domino() function can used make object. Parameters note include “use_clusters” required assess signaling cell types rather linkage TFs receptors broadly across data set. “use_complexes” decides receptors function heteromeric complexes considered testing linkages TFs receptors. TRUE, receptor complex linked TF majority component genes meet Spearman correlation threshold. “remove_rec_dropout” decides whether receptor values 0 considered correlation calculations; measure intended reduce effect dropout receptors low expression. run create_domino() matrix vector inputs: results equivalent using Seurat object directly. Note inclusion matrix inputs Seurat object prioritize Seurat object. information stored domino object access , please see vignette structure domino objects.","code":"pbmc_dom <- create_domino(rl_map = rl_map, features = auc_in, counts = counts, z_scores = z_scores,     clusters = clusters, tf_targets = regulon_list, use_clusters = TRUE, use_complexes = TRUE,     remove_rec_dropout = FALSE) # rl_map: receptor-ligand map data frame features: TF scores (AUC matrix) # counts: counts matrix z_scores: scaled expression data clusters: named vector # of cell cluster assignments tf_targets: list of TFs and their regulons # use_clusters: assess receptor activation and ligand expression on a # per-cluster basis use_complexes: include receptors and genes that function as # a complex in results remove_rec_dropout: whether to remove zeroes from # correlation calculations pbmc_dom <- create_domino(rl_map = rl_map, features = auc_in, ser = pbmc, tf_targets = regulon_list,     use_clusters = TRUE, use_complexes = TRUE, remove_rec_dropout = FALSE)"},{"path":"/articles/domino2.html","id":"build-domino","dir":"Articles","previous_headings":"Using domino2 v0.2.2 for cell-cell communication inference > Creating the Domino Object","what":"Build Domino","title":"Get Started with domino2","text":"build_domino() finalizes construction domino object setting parameters identifying TFs differential activation clusters, receptor linkage TFs based magnitude positive correlation, minimum percentage cells within cluster expression receptor receptor called active. also options thresholds number TFs may called active cluster number receptors may linked one TF. thresholds n TFs m receptors, bottom n TFs lowest p-values wilcoxon rank sum test top m receptors Spearman correlation coefficient chosen. thresholds number receptors TFs can sent infinity (Inf) collect receptors TFs meet statistical significance thresholds.","code":"pbmc_dom <- build_domino(dom = pbmc_dom, min_tf_pval = 0.001, max_tf_per_clust = 25,     max_rec_per_tf = 25, rec_tf_cor_threshold = 0.25, min_rec_percentage = 0.1) # min_tf_pval: Threshold for p-value of DE for TFs rec_tf_cor_threshold: # Minimum correlation between receptor and TF min_rec_percentage: Minimum # percent of cells that must express receptor pbmc_dom_all <- build_domino(dom = pbmc_dom, min_tf_pval = 0.001, max_tf_per_clust = Inf,     max_rec_per_tf = Inf, rec_tf_cor_threshold = 0.25, min_rec_percentage = 0.1)"},{"path":"/articles/domino2.html","id":"visualization-of-domino-results","dir":"Articles","previous_headings":"Using domino2 v0.2.2 for cell-cell communication inference","what":"Visualization of Domino Results","title":"Get Started with domino2","text":"Multiple functions available visualize intracellular networks receptors TFs ligand-receptor mediated intercellular networks cell types.","code":""},{"path":"/articles/domino2.html","id":"summarize-tf-activity-and-linkage","dir":"Articles","previous_headings":"Using domino2 v0.2.2 for cell-cell communication inference > Visualization of Domino Results","what":"Summarize TF Activity and Linkage","title":"Get Started with domino2","text":"Enrichment TF activities cell types can visualized feat_heatmap() plots data set-wide TF activity scores heatmap.","code":"feat_heatmap(pbmc_dom, norm = TRUE, bool = FALSE, use_raster = FALSE)"},{"path":"/articles/domino2.html","id":"cumulative-signaling-between-cell-types","dir":"Articles","previous_headings":"Using domino2 v0.2.2 for cell-cell communication inference > Visualization of Domino Results","what":"Cumulative signaling between cell types","title":"Get Started with domino2","text":"cumulative degree signaling clusters assessed sum scaled expression ligands targeting active receptors another cluster. can visualized graph format using signaling_network() function. Nodes represent cell cluster edges scale magnitude signaling clusters. color edge corresponds sender cluster signal.  Signaling networks can also drawn edges rendering signals directed towards given cell type signals one cell type directed others. see options use, well plotting functions options, please see plotting vignette.","code":"signaling_network(pbmc_dom, edge_weight = 1, max_thresh = 5)"},{"path":"/articles/domino2.html","id":"specific-signaling-interactions-between-clusters","dir":"Articles","previous_headings":"Using domino2 v0.2.2 for cell-cell communication inference > Visualization of Domino Results","what":"Specific Signaling Interactions between Clusters","title":"Get Started with domino2","text":"Beyond aggregated degree signaling cell types, degrees signaling specific ligand-receptor interactions can assessed. gene_network() provides graph linkages active TFs cluster, linked receptors cluster, possible ligands active receptors.  New domino2, gene_network() can used two clusters determine possible ligands given receptor expressed putative outgoing signaling cluster.  comprehensive assessment ligand expression targeting active receptors given cluster can assessed incoming_signaling_heatmap().  Another form comprehensive ligand expression assessment available individual active receptors form circos plots new domino2. outer arcs correspond clusters domino object inner arcs representing possible ligand plotted receptor. Arcs drawn ligands cell type receptor ligand expressed specified threshold. Arc widths correspond mean express ligand cluster widest arc width scaling maximum expression ligand within data.","code":"gene_network(pbmc_dom, clust = \"dendritic_cell\", layout = \"grid\") gene_network(pbmc_dom, clust = \"dendritic_cell\", OutgoingSignalingClust = \"CD14_monocyte\",     layout = \"grid\") incoming_signaling_heatmap(pbmc_dom, rec_clust = \"dendritic_cell\", max_thresh = 2.5,     use_raster = FALSE) circos_ligand_receptor(pbmc_dom, receptor = \"CD74\")"},{"path":"/articles/domino2.html","id":"continued-development","dir":"Articles","previous_headings":"Using domino2 v0.2.2 for cell-cell communication inference","what":"Continued Development","title":"Get Started with domino2","text":"Since domino2 package still developed, new functions features implemented future versions. meantime, put together information plotting domino object structure like explore package’s functionality. Additionally, find bugs, questions, want share idea, please let us know . Vignette Build Information Date last built session information:","code":"Sys.Date() #> [1] \"2023-12-13\" sessionInfo() #> R version 4.2.1 (2022-06-23) #> Platform: x86_64-pc-linux-gnu (64-bit) #> Running under: Ubuntu 22.04.3 LTS #>  #> Matrix products: default #> BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.10.0 #> LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.10.0 #>  #> locale: #>  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C               #>  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8     #>  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8    #>  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                  #>  [9] LC_ADDRESS=C               LC_TELEPHONE=C             #> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C        #>  #> attached base packages: #> [1] grid      stats     graphics  grDevices utils     datasets  methods   #> [8] base      #>  #> other attached packages: #> [1] knitr_1.45            ComplexHeatmap_2.14.0 circlize_0.4.15       #> [4] plyr_1.8.9            Seurat_5.0.1          SeuratObject_5.0.1    #> [7] sp_2.1-1              domino2_0.2.2         #>  #> loaded via a namespace (and not attached): #>   [1] utf8_1.2.4             spatstat.explore_3.2-5 reticulate_1.34.0      #>   [4] tidyselect_1.2.0       RSQLite_2.3.3          AnnotationDbi_1.60.2   #>   [7] htmlwidgets_1.6.2      Rtsne_0.16             munsell_0.5.0          #>  [10] codetools_0.2-19       ragg_1.2.6             ica_1.0-3              #>  [13] future_1.33.0          miniUI_0.1.1.1         spatstat.random_3.2-1  #>  [16] colorspace_2.1-0       progressr_0.14.0       Biobase_2.58.0         #>  [19] filelock_1.0.2         highr_0.10             stats4_4.2.1           #>  [22] ROCR_1.0-11            tensor_1.5             ggsignif_0.6.4         #>  [25] listenv_0.9.0          GenomeInfoDbData_1.2.9 polyclip_1.10-6        #>  [28] bit64_4.0.5            rprojroot_2.0.4        parallelly_1.36.0      #>  [31] vctrs_0.6.4            generics_0.1.3         xfun_0.41              #>  [34] BiocFileCache_2.6.1    R6_2.5.1               doParallel_1.0.17      #>  [37] GenomeInfoDb_1.34.9    clue_0.3-65            bitops_1.0-7           #>  [40] spatstat.utils_3.0-4   cachem_1.0.8           promises_1.2.1         #>  [43] scales_1.3.0           gtable_0.3.4           Cairo_1.6-1            #>  [46] globals_0.16.2         goftest_1.2-3          spam_2.10-0            #>  [49] rlang_1.1.2            systemfonts_1.0.5      GlobalOptions_0.1.2    #>  [52] splines_4.2.1          rstatix_0.7.2          lazyeval_0.2.2         #>  [55] spatstat.geom_3.2-7    broom_1.0.5            yaml_2.3.7             #>  [58] reshape2_1.4.4         abind_1.4-5            backports_1.4.1        #>  [61] httpuv_1.6.12          tools_4.2.1            ggplot2_3.4.4          #>  [64] ellipsis_0.3.2         jquerylib_0.1.4        RColorBrewer_1.1-3     #>  [67] BiocGenerics_0.44.0    ggridges_0.5.4         Rcpp_1.0.11            #>  [70] progress_1.2.2         zlibbioc_1.44.0        purrr_1.0.2            #>  [73] RCurl_1.98-1.13        prettyunits_1.2.0      deldir_1.0-9           #>  [76] ggpubr_0.6.0           pbapply_1.7-2          GetoptLong_1.0.5       #>  [79] cowplot_1.1.1          S4Vectors_0.36.2       zoo_1.8-12             #>  [82] ggrepel_0.9.4          cluster_2.1.4          fs_1.6.3               #>  [85] magrittr_2.0.3         magick_2.8.1           data.table_1.14.8      #>  [88] RSpectra_0.16-1        scattermore_1.2        lmtest_0.9-40          #>  [91] RANN_2.6.1             fitdistrplus_1.1-11    matrixStats_1.1.0      #>  [94] hms_1.1.3              patchwork_1.1.3        mime_0.12              #>  [97] evaluate_0.23          xtable_1.8-4           XML_3.99-0.16          #> [100] fastDummies_1.7.3      IRanges_2.32.0         gridExtra_2.3          #> [103] shape_1.4.6            compiler_4.2.1         biomaRt_2.54.1         #> [106] tibble_3.2.1           KernSmooth_2.23-22     crayon_1.5.2           #> [109] htmltools_0.5.7        later_1.3.1            tidyr_1.3.0            #> [112] DBI_1.1.3              formatR_1.14           dbplyr_2.4.0           #> [115] MASS_7.3-60            rappdirs_0.3.3         Matrix_1.6-3           #> [118] car_3.1-2              cli_3.6.1              parallel_4.2.1         #> [121] dotCall64_1.1-0        igraph_1.5.1           pkgconfig_2.0.3        #> [124] pkgdown_2.0.7          plotly_4.10.3          spatstat.sparse_3.0-3  #> [127] xml2_1.3.5             foreach_1.5.2          bslib_0.5.1            #> [130] XVector_0.38.0         stringr_1.5.1          digest_0.6.33          #> [133] sctransform_0.4.1      RcppAnnoy_0.0.21       spatstat.data_3.0-3    #> [136] Biostrings_2.66.0      rmarkdown_2.25         leiden_0.4.3.1         #> [139] uwot_0.1.16            curl_5.1.0             shiny_1.8.0            #> [142] rjson_0.2.21           nlme_3.1-163           lifecycle_1.0.4        #> [145] jsonlite_1.8.7         carData_3.0-5          desc_1.4.2             #> [148] viridisLite_0.4.2      fansi_1.0.5            pillar_1.9.0           #> [151] lattice_0.22-5         KEGGREST_1.38.0        fastmap_1.1.1          #> [154] httr_1.4.7             survival_3.5-7         glue_1.6.2             #> [157] png_0.1-8              iterators_1.0.14       bit_4.0.5              #> [160] stringi_1.8.2          sass_0.4.7             blob_1.2.4             #> [163] textshaping_0.3.7      RcppHNSW_0.5.0         memoise_2.0.1          #> [166] dplyr_1.1.4            irlba_2.3.5.1          future.apply_1.11.0"},{"path":"/articles/domino_object_vignette.html","id":"the-new-domino-object-structure","dir":"Articles","previous_headings":"","what":"The new domino object structure","title":"Interacting with domino2 Objects","text":"order better implement changes made domino2, structure domino object modified. , describe data stored domino object, well best access data.","code":""},{"path":"/articles/domino_object_vignette.html","id":"object-contents","dir":"Articles","previous_headings":"The new domino object structure","what":"Object contents","title":"Interacting with domino2 Objects","text":"contents domino object class include broad groups: - input data, L-R database used, counts, z-scores - calculations, correlations differential expression results - linkages, show connections TFs, receptors, ligands across data set within clusters - signaling matrices, show expression ligands signaling active receptors clusters (summary overall signaling) - build information, includes parameters used build object build_domino() functions commonly accessed information (number cells, clusters, build information), show print methods domino objects can used.","code":"dom #> A domino object of 2700 cells #> Built with signaling between 9 clusters print(dom) #> A domino object of 2700 cells #> Built with signaling between 9 clusters"},{"path":"/articles/domino_object_vignette.html","id":"access-functions","dir":"Articles","previous_headings":"The new domino object structure","what":"Access functions","title":"Interacting with domino2 Objects","text":"order facilitate access information stored domino object, provided collection functions retrieve specific items. functions begin “dom_” can listed using ls().","code":"ls(\"package:domino2\", pattern = \"^dom_\") #>  [1] \"dom_clusters\"      \"dom_correlations\"  \"dom_counts\"        #>  [4] \"dom_database\"      \"dom_de\"            \"dom_info\"          #>  [7] \"dom_linkages\"      \"dom_network_items\" \"dom_signaling\"     #> [10] \"dom_tf_activation\" \"dom_zscores\""},{"path":"/articles/domino_object_vignette.html","id":"input-data","dir":"Articles","previous_headings":"The new domino object structure > Access functions","what":"Input data","title":"Interacting with domino2 Objects","text":"creating domino object create_domino() function, several inputs required stored domino object . include cluster labels, counts matrix, z-scored counts matrix, transcription factor activation scores, R-L database used create_rl_map_cellphonedb(). example, access cluster names domino object: Setting argument labels = TRUE return vector cluster labels cell rather unique cluster names. access counts: z-scored counts: transcription factor activation scores can similarly accessed: Information database referenced ligand-receptor pairs composition protien complexes can extracted dom_database() function. default, function returns name(s) database(s) used: like view entire ligand-receptor map, set name_only = FALSE:","code":"dom_clusters(dom) #> [1] \"naive_CD4_T_cell\"  \"CD14_monocyte\"     \"memory_CD4_T_cell\" #> [4] \"B_cell\"            \"CD8_T_cell\"        \"CD16_monocyte\"     #> [7] \"NK_cell\"           \"dendritic_cell\"    \"platelet\" count_matrix <- dom_counts(dom) knitr::kable(count_matrix[1:5, 1:5]) z_matrix <- dom_zscores(dom) knitr::kable(z_matrix[1:5, 1:5]) activation_matrix <- dom_tf_activation(dom) knitr::kable(activation_matrix[1:5, 1:5]) dom_database(dom) #> [1] \"CellPhoneDB_v4.0\" db_matrix <- dom_database(dom, name_only = FALSE) knitr::kable(db_matrix[1:5, 1:5])"},{"path":"/articles/domino_object_vignette.html","id":"calculations","dir":"Articles","previous_headings":"The new domino object structure > Access functions","what":"Calculations","title":"Interacting with domino2 Objects","text":"Active transcription factors cluster determined conducting wilcoxon rank sum tests transcription factor transcription factor activity scores amongst cells cluster tested activity scores cells outside cluster. p-values one-sided test greater activity within cluster compared outside can accessed dom_de() function. Linkage receptors transcription factors assessed Spearman correlation transcription factor activity scores scaled expression receptor-encoding genes across cells data set. Spearman coefficients can accessed dom_correlations() function.","code":"de_matrix <- dom_de(dom) knitr::kable(de_matrix[1:5, 1:5]) cor_matrix <- dom_correlations(dom) knitr::kable(cor_matrix[1:5, 1:5])"},{"path":"/articles/domino_object_vignette.html","id":"linkages","dir":"Articles","previous_headings":"The new domino object structure > Access functions","what":"Linkages","title":"Interacting with domino2 Objects","text":"Linkages ligands, receptors, transcription factors can accessed several different ways, depending specific link scope desired. dom_linkages() function three arguments - first, like access functions, domino object. second, link_type, used specify linkages desired (options complexes, receptor-ligand, tf-target, tf-receptor). third argument, by_cluster, determines whether linkages returned arranged cluster (though change available linkage types tf-receptor, receptor, incoming-ligand). example, access complexes used across dataset: view incoming ligands cluster: , reason, find need entire linkage structure (recommended), can accessed slot name; domino objects S4 objects. Alternately, obtain simplified list receptors, ligands, /features domino object, use dom_network_items() function. pull transcription factors associated dendritic cell cluster:","code":"complex_links <- dom_linkages(dom, link_type = \"complexes\") # Look for components of NODAL receptor complex complex_links$NODAL_receptor #> [1] \"ACVR1B\"       \"ACVR2B\"       \"TDGF1\"        \"character(0)\" incoming_links <- dom_linkages(dom, link_type = \"incoming-ligand\", by_cluster = TRUE) # Check incoming signals to dendritic cells incoming_links$dendritic_cell #>  [1] \"MIF\"          \"APP\"          \"COPA\"         \"CD99\"         \"CD1D\"         #>  [6] \"HLA-F\"        \"INS\"          \"ANXA1\"        \"CXCL9\"        \"BMP8B\"        #> [11] \"a4b1_complex\" \"aVb3_complex\" \"TG\"           \"CSF3\"         \"IL34\"         #> [16] \"CSF1\"         \"CSF2\"         \"TNF\"          \"GRN\"          \"LTA\"          #> [21] \"CTLA4\"        \"CD28\" all_linkages <- slot(dom, \"linkages\") # Names of all sub-structures: names(all_linkages) #> [1] \"complexes\"          \"rec_lig\"            \"tf_targets\"         #> [4] \"clust_tf\"           \"tf_rec\"             \"clust_tf_rec\"       #> [7] \"clust_rec\"          \"clust_incoming_lig\" dc_tfs <- dom_network_items(dom, \"dendritic_cell\", return = \"features\") head(dc_tfs) #> [1] \"ZNF189\" \"KLF12\"  \"ETV7\"   \"IRF8\"   \"KLF6\"   \"FOS\""},{"path":"/articles/domino_object_vignette.html","id":"signaling-matrices","dir":"Articles","previous_headings":"The new domino object structure > Access functions","what":"Signaling Matrices","title":"Interacting with domino2 Objects","text":"averaged z-scored expression ligands receptors different clusters can accessed matrix form. view signaling specific cluster clusters, set cluster argument cluster name.","code":"signal_matrix <- dom_signaling(dom) knitr::kable(signal_matrix) dc_matrix <- dom_signaling(dom, \"dendritic_cell\") knitr::kable(dc_matrix)"},{"path":"/articles/domino_object_vignette.html","id":"build-information","dir":"Articles","previous_headings":"The new domino object structure > Access functions","what":"Build information","title":"Interacting with domino2 Objects","text":"keep track options set running build_domino(), stored within domino object . view options, use dom_info() function.","code":"dom_info(dom) #> $create #> [1] TRUE #>  #> $build #> [1] TRUE #>  #> $build_variables #>     max_tf_per_clust          min_tf_pval       max_rec_per_tf  #>               25.000                0.001               25.000  #> rec_tf_cor_threshold   min_rec_percentage  #>                0.250                0.100"},{"path":"/articles/domino_object_vignette.html","id":"continued-development","dir":"Articles","previous_headings":"The new domino object structure","what":"Continued Development","title":"Interacting with domino2 Objects","text":"Since domino2 package still developed, new functions features implemented future versions. meantime, put together information plotting example analysis can viewed Getting Started page. Additionally, find bugs, questions, want share idea, please let us know . Vignette Build Information Date last built session information:","code":"Sys.Date() #> [1] \"2023-12-13\" sessionInfo() #> R version 4.2.1 (2022-06-23) #> Platform: x86_64-pc-linux-gnu (64-bit) #> Running under: Ubuntu 22.04.3 LTS #>  #> Matrix products: default #> BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.10.0 #> LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.10.0 #>  #> locale: #>  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C               #>  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8     #>  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8    #>  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                  #>  [9] LC_ADDRESS=C               LC_TELEPHONE=C             #> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C        #>  #> attached base packages: #> [1] stats     graphics  grDevices utils     datasets  methods   base      #>  #> other attached packages: #> [1] domino2_0.2.2 #>  #> loaded via a namespace (and not attached): #>   [1] bitops_1.0-7           matrixStats_1.1.0      fs_1.6.3               #>   [4] bit64_4.0.5            filelock_1.0.2         doParallel_1.0.17      #>   [7] RColorBrewer_1.1-3     progress_1.2.2         httr_1.4.7             #>  [10] rprojroot_2.0.4        GenomeInfoDb_1.34.9    R.cache_0.16.0         #>  [13] backports_1.4.1        tools_4.2.1            bslib_0.5.1            #>  [16] utf8_1.2.4             R6_2.5.1               DBI_1.1.3              #>  [19] BiocGenerics_0.44.0    colorspace_2.1-0       GetoptLong_1.0.5       #>  [22] tidyselect_1.2.0       prettyunits_1.2.0      bit_4.0.5              #>  [25] curl_5.1.0             compiler_4.2.1         textshaping_0.3.7      #>  [28] cli_3.6.1              Biobase_2.58.0         xml2_1.3.5             #>  [31] desc_1.4.2             sass_0.4.7             scales_1.3.0           #>  [34] rappdirs_0.3.3         pkgdown_2.0.7          systemfonts_1.0.5      #>  [37] stringr_1.5.1          digest_0.6.33          rmarkdown_2.25         #>  [40] R.utils_2.12.3         XVector_0.38.0         pkgconfig_2.0.3        #>  [43] htmltools_0.5.7        styler_1.10.2          dbplyr_2.4.0           #>  [46] fastmap_1.1.1          rlang_1.1.2            GlobalOptions_0.1.2    #>  [49] RSQLite_2.3.3          shape_1.4.6            jquerylib_0.1.4        #>  [52] generics_0.1.3         jsonlite_1.8.7         car_3.1-2              #>  [55] dplyr_1.1.4            R.oo_1.25.0            RCurl_1.98-1.13        #>  [58] magrittr_2.0.3         GenomeInfoDbData_1.2.9 Matrix_1.6-3           #>  [61] munsell_0.5.0          Rcpp_1.0.11            S4Vectors_0.36.2       #>  [64] fansi_1.0.5            abind_1.4-5            lifecycle_1.0.4        #>  [67] R.methodsS3_1.8.2      stringi_1.8.2          yaml_2.3.7             #>  [70] carData_3.0-5          zlibbioc_1.44.0        plyr_1.8.9             #>  [73] BiocFileCache_2.6.1    grid_4.2.1             blob_1.2.4             #>  [76] parallel_4.2.1         crayon_1.5.2           lattice_0.22-5         #>  [79] Biostrings_2.66.0      circlize_0.4.15        hms_1.1.3              #>  [82] KEGGREST_1.38.0        knitr_1.45             ComplexHeatmap_2.14.0  #>  [85] pillar_1.9.0           igraph_1.5.1           ggpubr_0.6.0           #>  [88] rjson_0.2.21           ggsignif_0.6.4         codetools_0.2-19       #>  [91] biomaRt_2.54.1         stats4_4.2.1           XML_3.99-0.16          #>  [94] glue_1.6.2             evaluate_0.23          png_0.1-8              #>  [97] vctrs_0.6.4            foreach_1.5.2          tidyr_1.3.0            #> [100] gtable_0.3.4           purrr_1.0.2            clue_0.3-65            #> [103] ggplot2_3.4.4          cachem_1.0.8           xfun_0.41              #> [106] broom_1.0.5            rstatix_0.7.2          ragg_1.2.6             #> [109] tibble_3.2.1           iterators_1.0.14       AnnotationDbi_1.60.2   #> [112] memoise_2.0.1          IRanges_2.32.0         cluster_2.1.4"},{"path":"/articles/plotting_vignette.html","id":"visualizing-domino2-data","dir":"Articles","previous_headings":"","what":"Visualizing domino2 data","title":"Plotting Functions and Options","text":"addition numerous plotting options available original Domino, domino2 added functionality new methods improve visualization interpretation analysis results. , go different plotting functions available, well different options can utilized, options customization. using domino object (loaded dom) example analysis Getting Started.","code":""},{"path":"/articles/plotting_vignette.html","id":"loading-example-domino-data","dir":"Articles","previous_headings":"Visualizing domino2 data","what":"Loading example domino data","title":"Plotting Functions and Options","text":"","code":"data_url <- \"https://zenodo.org/records/10222767/files\" temp_dir <- tempdir()  download.file(url = paste0(data_url, \"/pbmc_domino_built.rds\"), destfile = paste0(temp_dir,     \"/pbmc_domino_built.rds\")) dom <- readRDS(paste0(temp_dir, \"/pbmc_domino_built.rds\"))"},{"path":[]},{"path":"/articles/plotting_vignette.html","id":"correlations-between-receptors-and-transcription-factors","dir":"Articles","previous_headings":"Visualizing domino2 data > Heatmaps","what":"Correlations between receptors and transcription factors","title":"Plotting Functions and Options","text":"cor_heatmap() can used show correlations calculated receptors transcription factors.  addition displaying scores correlations, function can also used identify correlations certain value (using bool bool_thresh arguments) identify combinations receptors transcription factors (TFs) connected (argument mark_connections).  subset receptors transcription factors interest, vector either () can passed function.  heatmap functions domino2 based ComplexHeatmap::Heatmap() also accept additional arguments meant function. example, argument clustering rows columns heatmap explicitly stated, can still passed ComplexHeatmap::Heatmap() cor_heatmap().","code":"cor_heatmap(dom, title = \"PBMC R-TF Correlations\") cor_heatmap(dom, bool = TRUE, bool_thresh = 0.25) cor_heatmap(dom, bool = FALSE, mark_connections = TRUE) receptors <- c(\"CSF1R\", \"CSF3R\", \"CCR7\", \"FCER2\") tfs <- c(\"PAX5\", \"JUNB\", \"FOXJ3\", \"FOSB\") cor_heatmap(dom, feats = tfs, recs = receptors) cor_heatmap(dom, cluster_rows = FALSE, cluster_columns = FALSE, column_title = \"Heatmap Without Clustering\")"},{"path":"/articles/plotting_vignette.html","id":"heatmap-of-transcription-factor-activation-scores","dir":"Articles","previous_headings":"Visualizing domino2 data > Heatmaps","what":"Heatmap of Transcription Factor Activation Scores","title":"Plotting Functions and Options","text":"feat_heatmap() used show transcription factor activation features signaling network.  functions similarly cor_heatmap(), arguments select specific vector features, use boolean view threshold, pass arguments NMF::aheatmap(). Specific function though arguments setting range values visualized one choose whether normalize scores max value.","code":"feat_heatmap(dom, use_raster = FALSE) feat_heatmap(dom, min_thresh = 0.1, max_thresh = 0.6, norm = TRUE, bool = FALSE,     use_raster = FALSE) feat_heatmap(dom, bool = TRUE, use_raster = FALSE)"},{"path":"/articles/plotting_vignette.html","id":"heatmap-of-incoming-signaling-for-a-cluster","dir":"Articles","previous_headings":"Visualizing domino2 data > Heatmaps","what":"Heatmap of Incoming Signaling for a Cluster","title":"Plotting Functions and Options","text":"incoming_signaling_heatmap() can used visualize cluster average expression ligands capable activating TFs enriched cluster. example, view incoming signaling CD8 T cells:  can also select specific clusters interest signaling CD8 T cells. interested viewing monocyte signaling:  heatmap functions, options available minimum threshold, maximum threshold, whether scale values thresholding, whether normalize matrix, ability pass arguments NMF::aheatmap().","code":"incoming_signaling_heatmap(dom, \"CD8_T_cell\") incoming_signaling_heatmap(dom, \"CD8_T_cell\", clusts = c(\"CD14_monocyte\", \"CD16_monocyte\"))"},{"path":"/articles/plotting_vignette.html","id":"heatmap-of-signaling-between-clusters","dir":"Articles","previous_headings":"Visualizing domino2 data > Heatmaps","what":"Heatmap of Signaling Between Clusters","title":"Plotting Functions and Options","text":"signaling_heatmap() makes heatmap showing signaling strength ligands cluster receptors cluster based averaged expression.  functions, specific clusters can selected, thresholds can set, normalization methods can selected well.","code":"signaling_heatmap(dom) signaling_heatmap(dom, scale = \"sqrt\") signaling_heatmap(dom, normalize = \"rec_norm\")"},{"path":[]},{"path":"/articles/plotting_vignette.html","id":"network-showing-l-r-tf-signaling-between-clusters","dir":"Articles","previous_headings":"Visualizing domino2 data > Network Plots","what":"Network showing L-R-TF signaling between clusters","title":"Plotting Functions and Options","text":"gene_network() makes network plot display signaling selected clusters ligands, receptors features associated clusters displayed nodes edges linkages. look signaling CD16 Monocytes CD14 Monocytes:  Options modify plot include adjusting scaling ligands different layouts (legible others).  Additionally, colors can given select genes (example, highlight specific signaling path).","code":"gene_network(dom, clust = \"CD16_monocyte\", OutgoingSignalingClust = \"CD14_monocyte\") gene_network(dom, clust = \"CD16_monocyte\", OutgoingSignalingClust = \"CD14_monocyte\",     lig_scale = 25, layout = \"sphere\") gene_network(dom, clust = \"CD16_monocyte\", OutgoingSignalingClust = \"CD14_monocyte\",     cols = c(CD1D = \"violet\", LILRB2 = \"violet\", FOSB = \"violet\"), lig_scale = 10)"},{"path":"/articles/plotting_vignette.html","id":"network-showing-interaction-strength-across-data","dir":"Articles","previous_headings":"Visualizing domino2 data > Network Plots","what":"Network Showing Interaction Strength Across Data","title":"Plotting Functions and Options","text":"signaling_network() can used create network plot nodes clusters edges indicate signaling one cluster another.  addition changes scaling, thresholds, layouts, plot can modified selecting incoming outgoing clusters (!). example view signaling CD14 Monocytes cluster:","code":"signaling_network(dom) signaling_network(dom, showOutgoingSignalingClusts = \"CD14_monocyte\", scale = \"none\",     norm = \"none\", layout = \"fr\", scale_by = \"none\", vert_scale = 5)"},{"path":[]},{"path":"/articles/plotting_vignette.html","id":"chord-diagrams-connecting-ligands-and-receptors","dir":"Articles","previous_headings":"Visualizing domino2 data > Other Types of Plot","what":"Chord Diagrams Connecting Ligands and Receptors","title":"Plotting Functions and Options","text":"new addition domino2, circos_ligand_receptor() creates chord plot showing ligands can activate specific receptor, displaying mean cluster expression ligand width chord.  function can given cluster colors match plots may make data. addition, plot can adjusted changing threshold ligand expression required linkage visualized selecting clusters interest.","code":"circos_ligand_receptor(dom, receptor = \"CD74\") cols <- c(\"red\", \"orange\", \"green\", \"blue\", \"pink\", \"purple\", \"slategrey\", \"firebrick\",     \"hotpink\") names(cols) <- dom_clusters(dom, labels = FALSE) circos_ligand_receptor(dom, receptor = \"CD74\", cell_colors = cols)"},{"path":"/articles/plotting_vignette.html","id":"scatter-plot-to-visualize-correlation","dir":"Articles","previous_headings":"Visualizing domino2 data > Other Types of Plot","what":"Scatter Plot to Visualize Correlation","title":"Plotting Functions and Options","text":"cor_scatter() can used plot cell based expression selected TF receptor. produces scatter plot well line best fit look receptor-TF correlation.  keep mind argument remove_rec_dropout match parameter used domino object built. case, use build parameter, leave value argument default value FALSE.","code":"cor_scatter(dom, \"FOSB\", \"CD74\")"},{"path":"/articles/plotting_vignette.html","id":"continued-development","dir":"Articles","previous_headings":"Visualizing domino2 data","what":"Continued Development","title":"Plotting Functions and Options","text":"Since domino2 package still developed, new functions features implemented future versions. meantime, view example analysis, see Getting Started page, see domino object structure page get familiar object structure. Additionally, find bugs, questions, want share idea, please let us know . Vignette Build Information Date last built session information:","code":"Sys.Date() #> [1] \"2023-12-13\" sessionInfo() #> R version 4.2.1 (2022-06-23) #> Platform: x86_64-pc-linux-gnu (64-bit) #> Running under: Ubuntu 22.04.3 LTS #>  #> Matrix products: default #> BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.10.0 #> LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.10.0 #>  #> locale: #>  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C               #>  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8     #>  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8    #>  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                  #>  [9] LC_ADDRESS=C               LC_TELEPHONE=C             #> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C        #>  #> attached base packages: #> [1] stats     graphics  grDevices utils     datasets  methods   base      #>  #> other attached packages: #> [1] patchwork_1.1.3 domino2_0.2.2   #>  #> loaded via a namespace (and not attached): #>   [1] colorspace_2.1-0       ggsignif_0.6.4         rjson_0.2.21           #>   [4] rprojroot_2.0.4        circlize_0.4.15        XVector_0.38.0         #>   [7] GlobalOptions_0.1.2    fs_1.6.3               clue_0.3-65            #>  [10] ggpubr_0.6.0           farver_2.1.1           bit64_4.0.5            #>  [13] AnnotationDbi_1.60.2   fansi_1.0.5            xml2_1.3.5             #>  [16] codetools_0.2-19       splines_4.2.1          doParallel_1.0.17      #>  [19] cachem_1.0.8           knitr_1.45             jsonlite_1.8.7         #>  [22] Cairo_1.6-1            broom_1.0.5            cluster_2.1.4          #>  [25] dbplyr_2.4.0           png_0.1-8              compiler_4.2.1         #>  [28] httr_1.4.7             backports_1.4.1        Matrix_1.6-3           #>  [31] fastmap_1.1.1          cli_3.6.1              formatR_1.14           #>  [34] htmltools_0.5.7        prettyunits_1.2.0      tools_4.2.1            #>  [37] igraph_1.5.1           gtable_0.3.4           glue_1.6.2             #>  [40] GenomeInfoDbData_1.2.9 dplyr_1.1.4            rappdirs_0.3.3         #>  [43] Rcpp_1.0.11            carData_3.0-5          Biobase_2.58.0         #>  [46] jquerylib_0.1.4        pkgdown_2.0.7          vctrs_0.6.4            #>  [49] Biostrings_2.66.0      nlme_3.1-163           iterators_1.0.14       #>  [52] xfun_0.41              stringr_1.5.1          lifecycle_1.0.4        #>  [55] rstatix_0.7.2          XML_3.99-0.16          zlibbioc_1.44.0        #>  [58] scales_1.3.0           ragg_1.2.6             hms_1.1.3              #>  [61] parallel_4.2.1         RColorBrewer_1.1-3     ComplexHeatmap_2.14.0  #>  [64] yaml_2.3.7             curl_5.1.0             memoise_2.0.1          #>  [67] ggplot2_3.4.4          sass_0.4.7             biomaRt_2.54.1         #>  [70] stringi_1.8.2          RSQLite_2.3.3          highr_0.10             #>  [73] S4Vectors_0.36.2       desc_1.4.2             foreach_1.5.2          #>  [76] BiocGenerics_0.44.0    filelock_1.0.2         shape_1.4.6            #>  [79] GenomeInfoDb_1.34.9    rlang_1.1.2            pkgconfig_2.0.3        #>  [82] systemfonts_1.0.5      matrixStats_1.1.0      bitops_1.0-7           #>  [85] evaluate_0.23          lattice_0.22-5         purrr_1.0.2            #>  [88] labeling_0.4.3         bit_4.0.5              tidyselect_1.2.0       #>  [91] plyr_1.8.9             magrittr_2.0.3         R6_2.5.1               #>  [94] IRanges_2.32.0         magick_2.8.1           generics_0.1.3         #>  [97] DBI_1.1.3              pillar_1.9.0           withr_2.5.2            #> [100] mgcv_1.9-0             KEGGREST_1.38.0        abind_1.4-5            #> [103] RCurl_1.98-1.13        tibble_3.2.1           crayon_1.5.2           #> [106] car_3.1-2              utf8_1.2.4             BiocFileCache_2.6.1    #> [109] rmarkdown_2.25         GetoptLong_1.0.5       progress_1.2.2         #> [112] grid_4.2.1             blob_1.2.4             digest_0.6.33          #> [115] tidyr_1.3.0            textshaping_0.3.7      stats4_4.2.1           #> [118] munsell_0.5.0          bslib_0.5.1"},{"path":[]},{"path":"/articles/vignette.html","id":"preprocessing-scrnaseq-data","dir":"Articles","previous_headings":"Introduction to using Domino2 for cell-cell communication inference","what":"Preprocessing scRNAseq data","title":"Cell Cell Communication with Domino2: v0.2.1 Vignette","text":"Domino2 tool analysis intra- intercellular signaling single cell RNA sequencing data based transcription factor activation. vignette intended demonstrate basic pipeline generating communication networks domino object using single cell RNA sequencing(scRNAseq) data. Analysis cell-cell communication (CCC) Domino2 often follows initial pre-processing annotation scRNAseq data. vignette demonstrate use Domino2 10X Genomics Peripheral Blood Mononuclear Cells (PBMC) data set 2,700 cells processed following Satija Lab’s Seurat tutorial. data can downloaded .","code":"# Preprocessing of PBMC 3K tutorial data set pbmc.data <- Read10X(data.dir = \"../data/pbmc3k_filtered_gene_bc_matrices\") pbmc <- CreateSeuratObject(counts = pbmc.data, project = \"pbmc3k\", min.cells = 3, min.features = 200) pbmc[[\"percent.mt\"]] <- PercentageFeatureSet(pbmc, pattern = \"^MT-\") pbmc <- NormalizeData(pbmc, normalization.method = \"LogNormalize\", scale.factor = 10000) pbmc <- FindVariableFeatures(pbmc, selection.method = \"vst\", nfeatures = 2000) pbmc <- ScaleData(pbmc, features = rownames(pbmc)) pbmc <- RunPCA(pbmc, features = VariableFeatures(object = pbmc)) pbmc <- FindNeighbors(pbmc, dims = 1:10) pbmc <- FindClusters(pbmc, resolution = 0.5) pbmc <- RunUMAP(pbmc, dims = 1:10) # Annotate clusters with cell phenotypes cell_dict <- data.frame(   cluster = c(0:8),   cell_type = c(\"naive_CD4_T_cell\", \"CD14_monocyte\", \"memory_CD4_T_cell\", \"B_cell\", \"CD8_T_cell\", \"CD16_monocyte\", \"NK_cell\", \"dendritic_cell\", \"platelet\") ) pbmc$cell_type <-    plyr::mapvalues(     pbmc$seurat_clusters,     from = cell_dict$cluster,     to = cell_dict$cell_type   )"},{"path":"/articles/vignette.html","id":"saving-preprocessed-data","dir":"Articles","previous_headings":"Introduction to using Domino2 for cell-cell communication inference > Preprocessing scRNAseq data","what":"Saving Preprocessed Data:","title":"Cell Cell Communication with Domino2: v0.2.1 Vignette","text":"Domino2 designed compatible Seurat objects addition accepting matrices vectors data set function inputs. Therefore, ’s good idea save processed Seurat object analysis. However, pySCENIC used transcription factor activation inference, requires input cell gene matrix. opposite orientation Seurat objects default Python based tools scanpy. Saving data loom file using loomR helpful step therefore recommended well. cell x gene counts matrix may also saved tab-separated value (.tsv) file loomR used computing resource, aware dense formatting .tsv can lead large file sizes slow processing large data sets. provided necessary code , due large file size, .tsv file provided data directory. like skip ahead rest analysis, processed objects steps available data directory package.","code":"# save Seurat object as RDS saveRDS(pbmc, file = \"../data/pbmc3k_seurat.rds\")  # save loom counts matrix pbmc_counts <- pbmc@assays$RNA@counts pbmc_loom <- loomR::create(filename = \"../data/pbmc3k_counts.loom\", data = pbmc_counts) pbmc_loom$close_all() # Remember to manually close connection to loom files! pbmc_counts <- pbmc@assays$RNA@counts write.table(t(as.matrix(pbmc_counts)), \"../data/pbmc3k_counts.tsv\",      sep = \"\\t\", col.names = NA)"},{"path":"/articles/vignette.html","id":"installation","dir":"Articles","previous_headings":"Introduction to using Domino2 for cell-cell communication inference","what":"Installation","title":"Cell Cell Communication with Domino2: v0.2.1 Vignette","text":"Domino2 undergoing active development aspects data used, analyzed, interpreted subject change new features fixes implemented. v0.2.1 Domino2 serves first stable development version active updates reproducible usage implemented fixes handling receptors ligands function heteromeric complexes, consideration receptor expression per-cluster basis linkage transcription factors, reformatting receptor-ligand database transcription factor regulon inputs enabling Domino2 use alternative data bases transcription factor activity inference methods. version currently hosted FertigLab GitHub branch v0.2.1 domino_development repository forked primary repository hosted Elisseeff-Lab GitHub, can installed using remotes package.","code":"if(!require(remotes)){     install.packages('remotes') } remotes::install_github('FertigLab/domino_development@v0.2.1')"},{"path":"/articles/vignette.html","id":"additional-downloads","dir":"Articles","previous_headings":"Introduction to using Domino2 for cell-cell communication inference > Installation","what":"Additional Downloads","title":"Cell Cell Communication with Domino2: v0.2.1 Vignette","text":"tutorial, pySCENIC used method transcription factor activity inference assessment ligand-receptor interactions based curated interactions CellPhoneDB v4.0.0. requires downloading files prior use analysis pipeline.","code":""},{"path":"/articles/vignette.html","id":"downloads-for-scenic","dir":"Articles","previous_headings":"Introduction to using Domino2 for cell-cell communication inference > Installation > Additional Downloads","what":"Downloads for SCENIC:","title":"Cell Cell Communication with Domino2: v0.2.1 Vignette","text":"singularity image SCENIC v0.12.1 can installed DockerHub image source (example scripts use Docker provided scenic_bash directory well). SCENIC requires list transcription factors, motif annotations, cisTarget motifs available authors SCENIC human (HGNC), mouse (MGI), fly. following download everything necessary analysis data set HGNC gene labels hg38 genome.","code":"SCENIC_DIR=\"scenic\" mkdir ${SCENIC_DIR}  # Build singularity image singularity build \"${SCENIC_DIR}/aertslab-pyscenic-0.12.1.sif\" docker://aertslab/pyscenic:0.12.1  # Matrix containing motifs as rows and genes as columns and ranking position for each gene and motif (based on CRM scores) as values curl \"https://resources.aertslab.org/cistarget/databases/old/homo_sapiens/hg38/refseq_r80/mc9nr/gene_based/hg38__refseq-r80__10kb_up_and_down_tss.mc9nr.feather\" \\   -o \"${SCENIC_DIR}/hg38__refseq-r80__10kb_up_and_down_tss.mc9nr.feather\" curl \"https://resources.aertslab.org/cistarget/databases/old/homo_sapiens/hg38/refseq_r80/mc9nr/gene_based/hg38__refseq-r80__500bp_up_and_100bp_down_tss.mc9nr.feather\" \\   -o \"${SCENIC_DIR}/hg38__refseq-r80__500bp_up_and_100bp_down_tss.mc9nr.feather\" # List of genes encoding transcription factors in the HG38 reference genome curl \"https://resources.aertslab.org/cistarget/tf_lists/allTFs_hg38.txt\" \\   -o \"${SCENIC_DIR}/allTFs_hg38.txt\" # Motif annotations based on the 2017 cisTarget motif collection. Use these files if you are using the mc9nr databases. curl \"https://resources.aertslab.org/cistarget/motif2tf/motifs-v9-nr.hgnc-m0.001-o0.0.tbl\" \\   -o \"${SCENIC_DIR}/motifs-v9-nr.hgnc-m0.001-o0.0.tbl\""},{"path":"/articles/vignette.html","id":"downloads-for-cellphonedb","dir":"Articles","previous_headings":"Introduction to using Domino2 for cell-cell communication inference > Installation > Additional Downloads","what":"Downloads for CellPhoneDB:","title":"Cell Cell Communication with Domino2: v0.2.1 Vignette","text":"Database files CellPhoneDB v4.0.0 human scRNA-seq data can installed public github repository Tiechmann Group developed CellPhoneDB.","code":"CELLPHONE_DIR=\"cellphonedb\" mkdir ${CELLPHONE_DIR}  # Annotation of protein complexes curl \"https://raw.githubusercontent.com/Teichlab/cellphonedb-data/master/data/complex_input.csv\" \\   -o \"${CELLPHONE_DIR}/complex_input.csv\" # Annotation of genes encoding database proteins curl \"https://raw.githubusercontent.com/Teichlab/cellphonedb-data/master/data/gene_input.csv\" \\   -o \"${CELLPHONE_DIR}/gene_input.csv\" # Annotated protein interactions curl \"https://raw.githubusercontent.com/Teichlab/cellphonedb-data/master/data/interaction_input.csv\" \\   -o \"${CELLPHONE_DIR}/interaction_input.csv\" # Annotated protein features curl \"https://raw.githubusercontent.com/Teichlab/cellphonedb-data/master/data/protein_input.csv\" \\   -o \"${CELLPHONE_DIR}/protein_input.csv\""},{"path":"/articles/vignette.html","id":"scenic-analysis","dir":"Articles","previous_headings":"Introduction to using Domino2 for cell-cell communication inference","what":"SCENIC Analysis","title":"Cell Cell Communication with Domino2: v0.2.1 Vignette","text":"SCENIC lab’s preferred software transcription factor activity scoring. recommend using Python implementation (pySCENIC) faster original R implementation. aware, use SCENIC often slowest memory intensive step analysis pipeline. SCENIC run computing resources access multi-core processing large amounts memory. described section saving preprocessed data, SCENIC requires RNA counts provided cell gene matrix format, using pbmc3k_counts.loom file stage analysis. pySCENIC initiated using bash scripting terminal. analysis consists 3 steps score genes transcription factor motif enrichment, construct transcription factor regulons consisting genes targeted transcription factors, arrive AUC scores enrichment regulon gene transcription within cell.","code":""},{"path":"/articles/vignette.html","id":"grn-construct-tf-modules","dir":"Articles","previous_headings":"Introduction to using Domino2 for cell-cell communication inference > SCENIC Analysis","what":"grn: construct TF-modules","title":"Cell Cell Communication with Domino2: v0.2.1 Vignette","text":"Co-expression modules used quantify gene-transciption factor adjacencies.","code":"singularity exec \"${SCENIC_DIR}/aertslab-pyscenic-0.12.1.sif\" pyscenic grn \\     \"../data/pbmc3k_counts.loom\" \\         # path to the loom file     \"${SCENIC_DIR}/allTFs_hg38.txt\" \\                        # list of transcription factors      -o \"${SCENIC_DIR}/pbmc_adj.tsv\" \\                        # output directory for the adjacency matrix     --num_workers 6 \\                                 # number of CPUs to use if multi-core processing is available     --set_seed 123                                    # specify a random seed for reproducibility"},{"path":"/articles/vignette.html","id":"ctx-construct-tf-regulons-with-pruning-based-on-tf-motiff-enrichment","dir":"Articles","previous_headings":"Introduction to using Domino2 for cell-cell communication inference > SCENIC Analysis","what":"ctx: construct TF regulons with pruning based on TF motiff enrichment","title":"Cell Cell Communication with Domino2: v0.2.1 Vignette","text":"rankings genes based enrichment transcription factor motiffs transcription start site (TSS) considered construction regulons, target genes TF-modules removed lack motifs proximal TSS transcription factor may bind.","code":"singularity exec \"${SCENIC_DIR}/aertslab-pyscenic-0.12.1.sif\" pyscenic ctx \\     \"${SCENIC_DIR}/pbmc_adj.tsv\" \\                                                   # adjacency matrix output from grn     \"${SCENIC_DIR}/hg38__refseq-r80__10kb_up_and_down_tss.mc9nr.feather\" \\           # target rankings of motif enrichment within 10 kb of TSS     \"${SCENIC_DIR}/hg38__refseq-r80__500bp_up_and_100bp_down_tss.mc9nr.feather\" \\    # target rankings of motif enrichment within 500 bp upstream and 100 bp downstream of TSS     --annotations_fname \"${SCENIC_DIR}/motifs-v9-nr.hgnc-m0.001-o0.0.tbl\" \\          # TF motif features     --expression_mtx_fname \"../data/pbmc3k_counts.loom\" \\          # counts matrix loom file     --mode \"dask_multiprocessing\" \\                                           # enable multi-core processing     --output \"${SCENIC_DIR}/pbmc_regulons.csv\" \\                                     # output file of learned TF regulons     --num_workers 6                                                           # number of CPU cores"},{"path":"/articles/vignette.html","id":"aucell-calculate-tf-activity-scores","dir":"Articles","previous_headings":"Introduction to using Domino2 for cell-cell communication inference > SCENIC Analysis","what":"aucell: calculate TF activity scores","title":"Cell Cell Communication with Domino2: v0.2.1 Vignette","text":"Enrichment regulon measured Area recovery Curve (AUC) genes define regulon.","code":"singularity exec \"${SCENIC_DIR}/aertslab-pyscenic-0.12.1.sif\" pyscenic aucell \\     \"../data/pbmc3k_counts.loom\" \\   # counts matrix loom file     \"${SCENIC_DIR}/pbmc_regulons.csv\" \\                # regulon table output from ctx     -o \"${SCENIC_DIR}/pbmc_auc.csv\"                    # cell x TF matrix of TF enrichment AUC values"},{"path":[]},{"path":"/articles/vignette.html","id":"loading-scenic-results","dir":"Articles","previous_headings":"Introduction to using Domino2 for cell-cell communication inference > Building a Signaling Network with Domino2","what":"Loading SCENIC Results","title":"Cell Cell Communication with Domino2: v0.2.1 Vignette","text":"transcription factor activities required input Domino2, regulons learned SCENIC important optional input needed annotate transcription factor-target interactions prune transcription factor-receptor linkages receptor target transcription factor. prevents distinction receptor expression driving transcription factor activity transcription factor inducing receptor’s expression. initial regulons data frame read R ctx function 2 rows column names need replaced one succinct description. Domino2 changed input format transcription factor regulons list storing vectors target genes regulon, names list transcription factor genes. facilitates use alternative methods transcription factor activity quantification methods. provide helper function easy retreival transcription factor regulons output pySCENIC ctx function. Users aware AUC matrix SCENIC loaded cell x transcription factor orientation transposed transcription factor x cell orientation. pySCENIC also appends “(+)” transcription factor names converted “…” upon loading R. characters can included without affecting results Domino2 analysis, can confusing querying transcription factor features data. recommend comprehensive removal “…” characters using gsub() function.","code":"scenic_dir = \"scenic/\" regulons <- read.csv(paste0(scenic_dir, \"/pbmc_regulons.csv\")) auc <- read.table(paste0(scenic_dir, \"scenic/pbmc_auc.csv\"),                   header = TRUE, row.names = 1,                   stringsAsFactors = FALSE, sep = \",\") regulons <- regulons[-1:-2,] colnames(regulons) <- c(\"TF\", \"MotifID\", \"AUC\", \"NES\", \"MotifSimilarityQvalue\", \"OrthologousIdentity\", \"Annotation\", \"Context\", \"TargetGenes\", \"RankAtMax\") regulon_list <- create_regulon_list_scenic(regulons = regulons) auc_in <- as.data.frame(t(auc)) rownames(auc_in) <- gsub(\"\\\\.\\\\.\\\\.$\", \"\", rownames(auc_in)) # remove pattern \"...\" from the end of all rownames"},{"path":"/articles/vignette.html","id":"load-cellphonedb-database","dir":"Articles","previous_headings":"Introduction to using Domino2 for cell-cell communication inference > Building a Signaling Network with Domino2","what":"Load CellPhoneDB Database","title":"Cell Cell Communication with Domino2: v0.2.1 Vignette","text":"Domino2 updated read ligand-receptor data bases uniform data.frame format referred receptor-ligand map (rl_map) enable use alternative updated reference databases oppossed particular version CellPhoneDB’s database older versions Domino. row corresponds ligand-receptor interaction. Genes participating interaction referred “partner ” “partner B” without requirement fixed ordering whether B ligand vice versa. minimum required columns data frame : int_pair: names interacting ligand receptor seperated \" & \" gene_A: gene genes encoding partner gene_B: gene genes encoding partner B type_A: (“L”, “R”) whether partner ligand (“L”) receptor (“R”) type_B: (“L”, “R”) whether partner B ligand (“L”) receptor (“R”) Additional annotation columns can provided name_A name_B ligands receptors whose name interaction database match names encoding genes. formatting also allows consideration ligand receptor complexes comprised heteromeric combination multiple proteins must coexpressed function. cases, “name_*” column shows name protein complex, “gene_*” column shows names genes encoding components complex separated commas “,”. plotting results build domino object, names interacting ligands receptors used based combinatorial expression complex components. facilitate use formatting CellPhoneDB database, include helper function automatically parses files cellPhoneDB database arrive rl_map format.","code":"cellphonedb_2_path <- \"cellphonedb\" complexes <- read.csv(paste0(cellphonedb_2_path, \"/complex_input.csv\"), stringsAsFactors = FALSE) genes <- read.csv(paste0(cellphonedb_2_path, \"/gene_input.csv\"), stringsAsFactors = FALSE) interactions <- read.csv(paste0(cellphonedb_2_path, \"/interaction_input.csv\"), stringsAsFactors = FALSE) proteins <- read.csv(paste0(cellphonedb_2_path, \"/protein_input.csv\"), stringsAsFactors = FALSE)  rl_map <- create_rl_map_cellphonedb(   genes = genes,    proteins = proteins,    interactions = interactions,   complexes = complexes,   database_name = \"CellPhoneDB_v4.0\" # includes database version used )  knitr::kable(head(rl_map))"},{"path":"/articles/vignette.html","id":"optional-adding-interactions-manually","dir":"Articles","previous_headings":"Introduction to using Domino2 for cell-cell communication inference > Building a Signaling Network with Domino2 > Load CellPhoneDB Database","what":"Optional: Adding interactions manually","title":"Cell Cell Communication with Domino2: v0.2.1 Vignette","text":"change use rl_map formatting also enables users manually append interactions interest included interaction database need . can attained formatting desired interactions data.frame column headers rl_map using rbind() function.","code":"# Integrin complexes are not annotated as receptors in CellPhoneDB_v4.0 # collagen-integrin interactions between cells may be missed unless tables from the CellPhoneDB reference are edited or the interactions are manually added  col_int_df <- data.frame(   \"int_pair\" = \"a11b1 complex & COLA1_HUMAN\",   \"name_A\" = \"a11b1 complex\", \"uniprot_A\" = \"P05556,Q9UKX5\", \"gene_A\" = \"ITB1,ITA11\", \"type_A\" = \"R\",   \"name_B\" = \"COLA1_HUMAN\", \"uniprot_B\" = \"P02452,P08123\", \"gene_B\" = \"COL1A1,COL1A2\", \"type_B\" = \"L\",   \"annotation_strategy\" = \"manual\", \"source\" = \"manual\", \"database_name\" = \"manual\" ) rl_map_append <- rbind(col_int_df, rl_map) knitr::kable(head(rl_map_append))"},{"path":"/articles/vignette.html","id":"creating-the-domino-object","dir":"Articles","previous_headings":"Introduction to using Domino2 for cell-cell communication inference","what":"Creating the Domino Object","title":"Cell Cell Communication with Domino2: v0.2.1 Vignette","text":"Domino2 analysis takes place two steps. 1. create_domino() . initializes domino result object b. assesses differential transcription factor activity across cell clusters wilcoxon rank-sum test c. establishes transcription factor-receptor linkages based Spearman correlation transcription factor activities receptor expression across queried data set. 2. build_domino() . sets parameters transcription factors receptors called active within cell cluster b. aggregates scaled expression ligands capable interacting active receptors assessment ligand type cellular source triggering activation receptor.","code":""},{"path":"/articles/vignette.html","id":"required-inputs-from-data-set","dir":"Articles","previous_headings":"Introduction to using Domino2 for cell-cell communication inference > Creating the Domino Object","what":"Required inputs from data set","title":"Cell Cell Communication with Domino2: v0.2.1 Vignette","text":"Domino2 infers active receipt signals via receptors based correlation receptor’s expression transcription factor activity across data set differential activity transcription factor within cell cluster. Correlations conducted using scaled expression values rather raw counts normalized counts. assessment receptor activity per cell type basis, named vector cell cluster assignments, names cell barcodes matching expression matrix, provided. Assessing signaling based categorical groupings cells can acheived passing groupings “clusters” build_domino() place cell types. Domino2 accepts either Seurat object counts, scaled counts, clusters included, requires matrix counts, matrix scaled counts, named vector cell cluster labels factors. Shown extract elements Seurat object. Note: Ligand receptor expression can assessed genes included z_scores matrix. Many scRNA-seq analysis pipelines recommend storing genes high variance scaled expression slots data objects, thereby missing many genes encoding ligands receptors. Ensure genes interest included rows z_scores matrix. Scaled expression calculated genes PBMC data set removal genes expressed less 3 cells.","code":"counts <- pbmc@assays$RNA@counts z_scores <- as.matrix(pbmc@assays$RNA@scale.data) clusters <- as.factor(pbmc$cell_type)"},{"path":"/articles/vignette.html","id":"create-domino-object","dir":"Articles","previous_headings":"Introduction to using Domino2 for cell-cell communication inference > Creating the Domino Object","what":"Create Domino object","title":"Cell Cell Communication with Domino2: v0.2.1 Vignette","text":"point, create_domino() function can used make object. Parameters note include “use_clusters” required assess signaling cell types rather linkage transcription factors receptors broadly across data set. “use_complexes” decides receptors function heteromeric complexes considered testing linkages transcription factors receptors. TRUE, receptor complex linked transcription factor majority component genes meet Spearman correlation threshold. “remove_rec_dropout” decides whether receptor values 0 considered correlation calculations; measure intended reduce effect dropout receptors wiht low expression. run create_domino() matrix vector inputs: results equivalent using Seurat object directly. Note inclusion matrix inputs Seurat object prioritize Seurat objects. information stored domino object access , please see vignette structure domino objects.","code":"pbmc_dom <- create_domino(   rl_map = rl_map,             # receptor-ligand map data frame   features = auc_in,           # Transcription factor scores (AUC matrix)   counts = counts,             # counts matrix   z_scores = z_scores,         # scaled expression data   clusters = clusters,         # vector of cell cluster assignments   tf_targets = regulon_list,   # list of TFs and their reglons   use_clusters = TRUE,         # assess receptor activation and ligand expression on a per-cluster basis   use_complexes = TRUE,        # include receptors and genes that function as a complex in results   remove_rec_dropout = FALSE   # whether to remove zeroes from correlation calculations ) pbmc_dom <- create_domino(   rl_map = rl_map,             # receptor-ligand map data frame   features = auc_in,           # Transcription factor scores (AUC matrix)   ser = pbmc,                  # Seurat object containing counts, scaled counts, and cell cluster assignments   tf_targets = regulon_list,   # list of TFs and their reglons   use_clusters = TRUE,         # assess receptor activation and ligand expression on a per-cluster basis   use_complexes = TRUE,        # include receptors and genes that function as a complex in results   remove_rec_dropout = FALSE   # whether to remove zeroes from correlation calculations )"},{"path":"/articles/vignette.html","id":"build-domino","dir":"Articles","previous_headings":"Introduction to using Domino2 for cell-cell communication inference > Creating the Domino Object","what":"Build Domino","title":"Cell Cell Communication with Domino2: v0.2.1 Vignette","text":"build_domino() finalizes construction domino object setting parameters identifying transcription factors differential activation clusters, receptor linkage transcription factors based magnitude positive correlation, minimum percentage cells within cluster expression receptor receptor called active. also options thresholds number transcription factors may called active cluster number receptors may linked one transcription factor. thresholds n transcription factors m receptors, bottom n transcription factors lowest p-values wilcoxon rank sum test top m receptors Spearman correlation coefficient chosen. thresholds number receptors transcription factors can sent infinity (Inf) collect receptors transcription factors meet statistical significance thresholds.","code":"pbmc_dom <- build_domino(   dom = pbmc_dom,   min_tf_pval = .001, # Threshold for p-value of DE for TFs   max_tf_per_clust = 5,   max_rec_per_tf = 5,   rec_tf_cor_threshold = .25, # Minimum correlation between receptor and TF   min_rec_percentage = 0.1 # Minimum percent of cells that must express receptor ) dom_b <- build_domino(   dom = dom,   min_tf_pval = .001,   max_tf_per_clust = Inf,   max_rec_per_tf = Inf,   rec_tf_cor_threshold = .25,   min_rec_percentage = 0.1 )"},{"path":"/articles/vignette.html","id":"visualization-of-domino-results","dir":"Articles","previous_headings":"Introduction to using Domino2 for cell-cell communication inference","what":"Visualization of Domino Results","title":"Cell Cell Communication with Domino2: v0.2.1 Vignette","text":"Multiple functions available visualize intracellular networks receptors transcription factors ligand-receptor mediated intercellular networks cell types.","code":""},{"path":"/articles/vignette.html","id":"summarize-transcription-factor-activity-and-linkage","dir":"Articles","previous_headings":"Introduction to using Domino2 for cell-cell communication inference > Visualization of Domino Results","what":"Summarize Transcription Factor Activity and Linkage","title":"Cell Cell Communication with Domino2: v0.2.1 Vignette","text":"Enrichment transcription factor activities cell types can visualized feat_heatmap() plots data set-wide transcription factor activity scores pheatmap. mark_connections argument determines whether X used mark linked transcription factors receptors.","code":"feat_heatmap(pbmc_dom, norm = TRUE, bool = FALSE, mark_connections = TRUE)"},{"path":"/articles/vignette.html","id":"cumulative-signaling-between-cell-types","dir":"Articles","previous_headings":"Introduction to using Domino2 for cell-cell communication inference > Visualization of Domino Results","what":"Cumulative signaling between cell types","title":"Cell Cell Communication with Domino2: v0.2.1 Vignette","text":"cummulative degree signaling clusters assessed sum scaled expressin ligands targeting active receptors another cluster. can visualized graph format using signaling_network() function. Nodes represent cell cluster edges scale magnitude signaling clusters. color edge corresponds sender cluster signal. Signaling networks can also drawn edges render signals directed towards given cell type signals one cell type directed others can also created. see options use, well plotting options, please see plotting vignette.","code":"signaling_network(pbmc_dom, edge_weight = .5, max_thresh = 2.5)"},{"path":"/articles/vignette.html","id":"specific-signaling-interactions-between-clusters","dir":"Articles","previous_headings":"Introduction to using Domino2 for cell-cell communication inference > Visualization of Domino Results","what":"Specific Signaling Interactions between Clusters","title":"Cell Cell Communication with Domino2: v0.2.1 Vignette","text":"Beyond aggregated degree signaling cell types, degrees signaling specific ligand-receptor interactions can assessed. gene_network() provides graph linkages active transcription factors cluster, linked receptors cluster, possible ligands active recptors New Domino2, gene_network() can used two clusters determine possible ligands given receptor expressed putative outgoing signaling cluster. comprehensive assessment ligand expression targeting active receptors given cluster can assessed incoming_signaling_heatmap(). Another form comprehensive ligand expression assessment available individual active receptors form circos plots new Domino2. outer arcs correspond clusters domino object inner arcs representing possible ligand plotted receptor. Arcs drawn ligands cell type receptor ligand expressed specified threshold. Arc widths correspond mean express ligand cluster widest arc width scaling maximum expression ligand within data.","code":"gene_network(pbmc_dom, clust = 'dendritic_cell', layout = 'grid') gene_network(pbmc_dom, clust = 'dendritic_cell', OutgoingSignalingClust = \"CD14_monocyte\",               layout = 'grid') incoming_signaling_heatmap(pbmc_dom, rec_clust = 'dendritic_cell', max_thresh = 2.5) circos_ligand_receptor(pbmc_dom, receptor = \"CD74\")"},{"path":"/articles/vignette.html","id":"continued-development","dir":"Articles","previous_headings":"Introduction to using Domino2 for cell-cell communication inference","what":"Continued Development","title":"Cell Cell Communication with Domino2: v0.2.1 Vignette","text":"Since Domino2 package still development, new functions features development. github repository contains branches changes implemented. Additionally, find bugs, questions, features like request, please let us know .","code":""},{"path":[]},{"path":"/articles/vignette.html","id":"vignette-build-info","dir":"Articles","previous_headings":"","what":"Cell Cell Communication with Domino2: v0.2.1 Vignette","title":"Cell Cell Communication with Domino2: v0.2.1 Vignette","text":"","code":"sys.date() sessionInfo()"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Christopher Cherry. Author. Jacob T Mitchell. Author, maintainer. Sushma Nagaraj. Author. Kavita Krishnan. Author. Elana Fertig. Contributor. Jennifer Elisseeff. Contributor.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Cherry C, Maestas D, Han J, Andorko J, Cahan P, Fertig E, Garmire L, Elisseeff J (2021). “Computational reconstruction signalling networks surrounding implanted biomaterials single-cell transcriptomics.” Nature Biomedical Engineering, 5(10), 1228-1238. doi:10.1038/s41551-021-00770-5, https://doi.org/10.1038%2Fs41551-021-00770-5. Cherry C, Mitchell J, Nagaraj S, Krishnan K, Fertig E, Elisseeff J (2023). domino2: Cell Communication Analysis Single Cell RNA Sequencing. R package version 0.2.1.","code":"@Article{,   title = {Computational reconstruction of the signalling networks surrounding implanted biomaterials from single-cell transcriptomics},   author = {Christopher Cherry and David R. Maestas and Jin Han and James I. Andorko and Patrick Cahan and Elana J. Fertig and Lana X. Garmire and Jennifer H. Elisseeff},   journal = {Nature Biomedical Engineering},   year = {2021},   volume = {5},   number = {10},   pages = {1228-1238},   doi = {10.1038/s41551-021-00770-5},   url = {https://doi.org/10.1038%2Fs41551-021-00770-5}, } @Manual{,   title = {domino2: Cell Communication Analysis for Single Cell RNA Sequencing},   author = {Christopher Cherry and Jacob T Mitchell and Sushma Nagaraj and Kavita Krishnan and Elana Fertig and Jennifer Elisseeff},   year = {2023},   note = {R package version 0.2.1}, }"},{"path":"/index.html","id":"introducing-domino2","dir":"","previous_headings":"","what":"Cell Communication from Single Cell RNA Sequencing Data","title":"Cell Communication from Single Cell RNA Sequencing Data","text":"domino2 updated version original domino R package published Nature Biomedical Engineering Computational reconstruction signalling networks surrounding implanted biomaterials single-cell transcriptomics. domino2 tool analysis intra- intercellular signaling single cell RNA sequencing data based transcription factor activation receptor ligand linkages.","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Cell Communication from Single Cell RNA Sequencing Data","text":"domino2 undergoing active development aspects data used, analyzed, interpreted subject change new features fixes implemented. v0.2.2 domino2 serves first stable development version active updates reproducible usage (see News page information changes). version currently hosted FertigLab GitHub branch v0.2.2 domino_development repository forked primary repository hosted Elisseeff-Lab GitHub, can installed using remotes package.","code":"if(!require(remotes)){     install.packages('remotes') } remotes::install_github('FertigLab/domino2@v0.2.1')"},{"path":"/index.html","id":"usage-overview","dir":"","previous_headings":"","what":"Usage Overview","title":"Cell Communication from Single Cell RNA Sequencing Data","text":"overview domino2 might used analysis single cell RNA sequencing data set: Transcription factor activation scores calculated (recommend using pySCENIC, methods can used well) ligand-receptor database used map linkages ligands receptors (recommend using cellphoneDB, methods can used well). domino object created using counts, z-scored counts, clustering information, data steps 1 2. Parameters maximum number transcription factors receptors minimum correlation threshold (among others) used make cell communication network Communication networks can extracted within domino object visualized using variety plotting functions Please see Getting Started page example analysis includes steps detail, downloading running pySCENIC building visualizing domino results. articles include details plotting functions structure domino object.","code":""},{"path":[]},{"path":"/news/news-0.2.html","id":"updates-to-domino-object-construction-0-2-1","dir":"News","previous_headings":"domino2 v0.2.1","what":"Updates to domino object construction","title":"Version 0.2","text":"Uniform formats inputs receptor-ligand interaction databases, tf activity features, regulon gene lists operability alternative databases tf activity inference methods Helper functions reformatting pySCENIC outputs CellPhoneDB database files domino-readable uniform formats Assessment transcription factor linkage receptors function heteromeric complex based correlation transcription factor activity receptor component genes Assessment complex ligand expression mean component gene expression plotting functions Minimum threshold percentage cells cluster expressing receptor gene receptor called active within cluster Additional linkage slots active receptors cluster, transcription factor-receptor linkages cluster, incoming ligands active receptors cluster","code":""},{"path":"/news/news-0.2.html","id":"plotting-functions-0-2-1","dir":"News","previous_headings":"domino2 v0.2.1","what":"Plotting functions","title":"Version 0.2","text":"Circos plot ligand expression targeting specified receptor chord widths correspond quantity ligand expression cell cluster Signaling networks showing outgoing signaling specified cell clusters Gene networks two cell clusters","code":""},{"path":"/news/news-0.2.html","id":"bugfixes-0-2-1","dir":"News","previous_headings":"domino2 v0.2.1","what":"Bugfixes","title":"Version 0.2","text":"Added host option gene ortholog conversions using biomart access maintained mirrors Transcription factor-target linkages now properly stored receptors transcription factor’s regulon excluded linkage Ligand nodes sizes gene networks correspond quantity ligand expression create_domino() can run without providing regulon list References host GitHub repository updated “Elisseeff-Lab”","code":""},{"path":[]},{"path":"/news/news-0.2.html","id":"linkage-functions-0-2-2","dir":"News","previous_headings":"domino2 v0.2.2","what":"Linkage functions","title":"Version 0.2","text":"Addition new class summarize linkages objects Addition helper functions count linkages compare objects Plotting function differential linkages","code":""},{"path":"/news/news-0.2.html","id":"package-structure-0-2-2","dir":"News","previous_headings":"domino2 v0.2.2","what":"Package structure","title":"Version 0.2","text":"Adjustments made meet BioConductor standards","code":""},{"path":"/old.README.html","id":null,"dir":"","previous_headings":"","what":"Domino2","title":"Domino2","text":"Domino2 tool analysis intra- intercellular signaling single cell RNA sequencing data based transcription factor activation ligand receptor signaling.","code":""},{"path":"/old.README.html","id":"fertig-lab-development-branch","dir":"","previous_headings":"","what":"Fertig Lab Development Branch","title":"Domino2","text":"repository intended integration updates Domino2 Fertig Lab Elisseeff Lab. code may currently unstable currently recommended use. like use Domino, please use main repository hosted Elisseeff Lab https://github.com/Elisseeff-Lab/domino.","code":""},{"path":"/old.README.html","id":"branch-notes","dir":"","previous_headings":"Fertig Lab Development Branch","what":"Branch notes:","title":"Domino2","text":"Code used version Domino published 2021 archived branch domino_paper_archive. Changes, issues pull requests handled master branch easy use installation updated version. Added option use cells without receptor dropout calculating Pearson correlation.","code":""},{"path":"/old.README.html","id":"citation","dir":"","previous_headings":"Fertig Lab Development Branch","what":"Citation","title":"Domino2","text":"find Domino useful, please consider citing us. Cherry C, Maestas DR, Han J, Andorko JI, Cahan P, Fertig EJ, Garmire LX, Elisseeff JH. Computational reconstruction signalling networks surrounding implanted biomaterials single-cell transcriptomics. Nat Biomed Eng. 2021 Oct;5(10):1228-1238. doi: 10.1038/s41551-021-00770-5. Epub 2021 Aug 2. PMID: 34341534; PMCID: PMC9894531. make sure cite SCENIC use transcription factor scores. Aibar, Sara, et al. “SCENIC: single-cell regulatory network inference clustering.” Nature methods 14.11 (2017): 1083-1086.","code":""},{"path":"/old.README.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Domino2","text":"Domino can installed github repository. Domino requires ligand-receptor database. use cellphonedb. Domino look four files: complexes.csv genes.csv interactions.csv proteins.csv. like download terminal commands .","code":"if(!require(devtools)){     install.packages('devtools') } devtools::install_github('Elisseeff-Lab/domino') curl -O https://raw.githubusercontent.com/Teichlab/cellphonedb-data/master/data/sources/complex_curated.csv mv complex_curated.csv complexes.csv curl -O https://raw.githubusercontent.com/Teichlab/cellphonedb-data/master/data/sources/interaction_curated.csv mv interaction_curated.csv interactions.csv curl -O https://raw.githubusercontent.com/Teichlab/cellphonedb-data/master/data/sources/protein_curated.csv mv protein_curated.csv proteins.csv curl -O https://raw.githubusercontent.com/Teichlab/cellphonedb-data/master/data/gene_input.csv mv gene_input.csv genes.csv"},{"path":"/old.README.html","id":"setting-up-scenic","dir":"","previous_headings":"Installation","what":"Setting up SCENIC","title":"Domino2","text":"choose use SCENIC generate transcription factor activation scores, recommend Python implementation. ’s significantly faster R version SCENIC longest part analysis pipeline far. Docker/Singularity images available . tutorials, use bash script wrote run SCENIC Docker image. ’ll need set environment properly wish use script run SCENIC. First, need docker image SCENIC 0.10.0. Docker image need directory pull input files write output files . default, use ~/docker_scratch, feel free make whatever like change directory variable bash script. Put following reference files scratch folder using script. SCENIC requires list transcription factors, motif annotations, cisTarget motifs available authors SCENIC human (HGNC), mouse (MGI), fly. following download everything necessary analysis data set MGI gene labels mm9 genome. HGNC gene labels hg19 genome","code":"mkdir ~/docker_scratch curl -O https://raw.githubusercontent.com/aertslab/pySCENIC/master/resources/mm_mgi_tfs.txt curl -O https://resources.aertslab.org/cistarget/motif2tf/motifs-v9-nr.mgi-m0.001-o0.0.tbl curl -O https://resources.aertslab.org/cistarget/databases/mus_musculus/mm9/refseq_r45/mc9nr/gene_based/mm9-500bp-upstream-7species.mc9nr.feather curl -O https://resources.aertslab.org/cistarget/databases/mus_musculus/mm9/refseq_r45/mc9nr/gene_based/mm9-500bp-upstream-10species.mc9nr.feather curl -O https://resources.aertslab.org/cistarget/databases/mus_musculus/mm9/refseq_r45/mc9nr/gene_based/mm9-tss-centered-10kb-7species.mc9nr.feather curl -O https://resources.aertslab.org/cistarget/databases/mus_musculus/mm9/refseq_r45/mc9nr/gene_based/mm9-tss-centered-10kb-10species.mc9nr.feather curl -O https://resources.aertslab.org/cistarget/databases/mus_musculus/mm9/refseq_r45/mc9nr/gene_based/mm9-tss-centered-5kb-7species.mc9nr.feather curl -O https://resources.aertslab.org/cistarget/databases/mus_musculus/mm9/refseq_r45/mc9nr/gene_based/mm9-tss-centered-5kb-10species.mc9nr.feather curl -O https://raw.githubusercontent.com/aertslab/pySCENIC/master/resources/hs_hgnc_curated_tfs.txt curl -O https://resources.aertslab.org/cistarget/motif2tf/motifs-v9-nr.hgnc-m0.001-o0.0.tbl curl -O https://resources.aertslab.org/cistarget/databases/homo_sapiens/hg19/refseq_r45/mc9nr/gene_based/hg19-500bp-upstream-7species.mc9nr.feather curl -O https://resources.aertslab.org/cistarget/databases/homo_sapiens/hg19/refseq_r45/mc9nr/gene_based/hg19-500bp-upstream-10species.mc9nr.feather curl -O https://resources.aertslab.org/cistarget/databases/homo_sapiens/hg19/refseq_r45/mc9nr/gene_based/hg19-tss-centered-10kb-7species.mc9nr.feather curl -O https://resources.aertslab.org/cistarget/databases/homo_sapiens/hg19/refseq_r45/mc9nr/gene_based/hg19-tss-centered-10kb-10species.mc9nr.feather curl -O https://resources.aertslab.org/cistarget/databases/homo_sapiens/hg19/refseq_r45/mc9nr/gene_based/hg19-tss-centered-5kb-7species.mc9nr.feather curl -O https://resources.aertslab.org/cistarget/databases/homo_sapiens/hg19/refseq_r45/mc9nr/gene_based/hg19-tss-centered-5kb-10species.mc9nr.feather"},{"path":"/old.README.html","id":"a-complete-basic-analysis-using-domino","dir":"","previous_headings":"","what":"A complete basic analysis using Domino","title":"Domino2","text":"run complete analysis Domino picking phenotypic assignment clusters. like see example Domino without using clusters check cluster free analysis vignette . First need get data. Seurat object contains cluster assignments Seurat 2,700 PBMC tutorial. wont need install Seurat don’t already - just pulling data object. create directory put stuff well.","code":"mkdir ~/work/domino_basic_example"},{"path":"/old.README.html","id":"running-scenic","dir":"","previous_headings":"A complete basic analysis using Domino","what":"Running SCENIC","title":"Domino2","text":"first step generate transcription factor activation scores SCENIC. following along, need created Docker scratch directory downloaded necessary HGNC reference files described Setting SCENIC section . First need write counts file Docker temporary directory R. Now simply need run SCENIC bash script data MGI symbols. data set 32-core EPYC Rome 7002 running step takes 40m. like skip step, necessary output files provided . Either way, move files working directory terminal file explorer.","code":"ser = readRDS('pbmc3k_final.rds') write.table(t(as.matrix(ser@assays$RNA@counts)), '~/docker_scratch/counts.tsv',      sep = '\\t', col.names = NA) bash ~/my_software/domino/scenic_bash/hgnc_scenic.sh mv ~/docker_scratch/auc_mtx.csv ~/work/domino_basic_example mv ~/docker_scratch/regulons.csv ~/work/domino_basic_example"},{"path":"/old.README.html","id":"creating-the-domino-object","dir":"","previous_headings":"A complete basic analysis using Domino","what":"Creating the domino object","title":"Domino2","text":"Now SCENIC data can run domino. example’s sake, pull necessary information Seurat object first can also simply provide Seurat object create_domino function pull . also read AUC matrix SCENIC. Note must transposed SCENIC’s output. command generates domino object prepares (compiles LR database, calculates cluster TF enrichment, calculates TF - R correlation). Make sure put correct directory cellphonedb data sets .","code":"library(domino) ser = readRDS('pbmc3k_final.rds') counts = ser@assays$RNA@counts z_scores = ser@assays$RNA@scale.data clusters = ser@active.ident auc = t(read.table('auc_mtx.csv', header = TRUE, row.names = 1,      stringsAsFactors = FALSE, sep = ',')) pbmc_dom = create_domino(signaling_db = '~/work/ref/human/cpdb/',      features = auc, counts = counts, z_scores = z_scores, clusters = clusters,      df = 'regulons.csv')"},{"path":"/old.README.html","id":"building-the-signaling-network-and-plotting-options","dir":"","previous_headings":"A complete basic analysis using Domino","what":"Building the signaling network and plotting options","title":"Domino2","text":"four major parameters can play buidling signaling network, two selecting TFs cluster two connecting TFs recs. min_tf_pval minimum p val TF assigned cluster max_tf_per_clust maximum number transcription factors allowed cluster. patter true rec_tf_cor_threshold max_rec_per_tf except thresholding Pearon correlation receptor transcription factor. Building signaling network takes little time feel free play around values. general prefer select pval cor threshold good portion TFs recs trimmed maximum number thresholds. Now just need visualize signaling network. First, visualize cluster-cluster signaling signaling_network. using max threshold (max_thresh) Mk cluster’s expression ITGA2B much higher clusters/ligands drowns relevant signaling . Give shot without max_thresh ’ll see mean. Intercluster signaling network default, nodes scaled based expression ligands targetting . larger cells data set expressing high amounts ligands targetting cluster. edges weighted based strength signaling two specific clusters. color edge match color ligand cluster. example, network teal line connecting CD8 T cells DCs represents signaling T cells DCs. order determine ligand-receptor-TF signaling patterns involved , can zoom gene network DCs. DC gene network default red nodes ligands, blue receptors, green transcription factors. Now lets look expression ligands targetting DCs. DC incoming signaling heatmap looks like CCL5 major component signaling T cells DCs. gene network looks like CCL5 predicted target LILRB1 activate IRF4 IRF8 DCs. can investigate expression patterns associated linkages. First, lets generate heatmap transcription factor activation scores. Transcription factor activation score heatmap look connections transcription factors receptores can create heatmap correlations two. Rec-TF correlation heatmap Finally, can visualize entire tf-r-l network including clusters gene_network. Note function return igraph object used make plot. important use force directed layout like make two versions plot. use default settings allow us see node labels reformat plot igraph options make less cluttered smaller formats.  Thanks taking look software. questions please let us know .","code":"pbmc_dom = build_domino(pbmc_dom, max_tf_per_clust = 10,      min_tf_pval = .001, max_rec_per_tf = 10, rec_tf_cor_threshold = .25) signaling_network(pbmc_dom, edge_weight = .5, max_thresh = 2.5) gene_network(pbmc_dom, clust = 'DC', layout = 'fr') incoming_signaling_heatmap(pbmc_dom, rec_clust = 'DC', max_thresh = 2.5) feat_heatmap(pbmc_dom, norm = TRUE, bool = FALSE) cor_heatmap(pbmc_dom, bool = FALSE, mark_connections = TRUE) info = gene_network(pbmc_dom, clust = levels(pbmc_dom@clusters),      lig_scale = FALSE, layout = 'fr') plot(info$graph, layout = info$layout, vertex.size = 3, edge.color = 'grey',      vertex.frame.color = 'black', vertex.label = NA)"},{"path":"/plotting_vignette.html","id":null,"dir":"","previous_headings":"","what":"Visualizing domino2 data","title":"Visualizing domino2 data","text":"addition numerous plotting options available original Domino, domino2 added functionality new methods improve visualization interpretation analysis results. , go different plotting functions available, well different options can utilized, options customization. using domino object (loaded dom) example analysis Getting Started.","code":""},{"path":[]},{"path":"/plotting_vignette.html","id":"correlations-between-receptors-and-transcription-factors","dir":"","previous_headings":"Heatmaps","what":"Correlations between receptors and transcription factors","title":"Visualizing domino2 data","text":"cor_heatmap() can used show correlations calculated receptors transcription factors.  addition displaying scores correlations, function can also used identify correlations certain value (using bool bool_thresh arguments) identify combinations receptors transcription factors (TFs) connected (argument mark_connections).  subset receptors transcription factors interest, vector either () can passed function.  heatmap functions domino2 based NMF::aheatmap() also accept additional arguments meant function. example, argument clustering rows columns heatmap explicitly stated, can still passed NMF::aheatmap() cor_heatmap().","code":"cor_heatmap(dom, title = \"PBMC R-TF Correlations\") cor_heatmap(dom, bool = TRUE, bool_thresh = 0.25) cor_heatmap(dom, bool = FALSE, mark_connections = TRUE) receptors <- c(\"CSF1R\", \"CSF3R\", \"CCR7\", \"FCER2\") tfs <- c(\"PAX5\", \"JUNB\", \"FOXJ3\", \"FOSB\") cor_heatmap(dom, feats = tfs, recs = receptors) cor_heatmap(dom,   title = FALSE, Rowv = NA, Colv = NA,   main = \"Heatmap Without Clustering\" )"},{"path":"/plotting_vignette.html","id":"heatmap-of-transcription-factor-activation-scores","dir":"","previous_headings":"Heatmaps","what":"Heatmap of Transcription Factor Activation Scores","title":"Visualizing domino2 data","text":"feat_heatmap() used show transcription factor activation features signaling network.  functions similarly cor_heatmap(), arguments select specific vector features, use boolean view threshold, pass arguments NMF::aheatmap(). Specific function though arguments setting range values visualized one choose whether normalize scores max value.","code":"feat_heatmap(dom) feat_heatmap(dom,   min_thresh = 0.1, max_thresh = 0.6,   norm = TRUE, bool = FALSE ) feat_heatmap(dom, bool = TRUE)"},{"path":"/plotting_vignette.html","id":"heatmap-of-incoming-signaling-for-a-cluster","dir":"","previous_headings":"Heatmaps","what":"Heatmap of Incoming Signaling for a Cluster","title":"Visualizing domino2 data","text":"incoming_signaling_heatmap() can used visualize cluster average expression ligands capable activating TFs enriched cluster. example, view incoming signaling CD8 T cells:  can also select specific clusters interest signaling CD8 T cells. interested viewing monocyte signaling:  heatmap functions, options available minimum threshold, maximum threshold, whether scale values thresholding, whether normalize matrix, ability pass arguments NMF::aheatmap().","code":"incoming_signaling_heatmap(dom, \"CD8_T_cell\") incoming_signaling_heatmap(dom, \"CD8_T_cell\", clusts = c(\"CD14_monocyte\", \"CD16_monocyte\"))"},{"path":"/plotting_vignette.html","id":"heatmap-of-signaling-between-clusters","dir":"","previous_headings":"Heatmaps","what":"Heatmap of Signaling Between Clusters","title":"Visualizing domino2 data","text":"signaling_heatmap() makes heatmap showing signaling strength ligands cluster receptors cluster based averaged expression.  functions, specific clusters can selected, thresholds can set, normalization methods can selected well.","code":"signaling_heatmap(dom) signaling_heatmap(dom, scale = \"sqrt\") signaling_heatmap(dom, normalize = \"rec_norm\")"},{"path":[]},{"path":"/plotting_vignette.html","id":"network-showing-l-r-tf-signaling-between-clusters","dir":"","previous_headings":"Network Plots","what":"Network showing L-R-TF signaling between clusters","title":"Visualizing domino2 data","text":"gene_network() makes network plot display signaling selected clusters ligands, receptors features associated clusters displayed nodes edges linkages. look signaling CD16 Monocytes CD14 Monocytes:  Options modify plot include adjusting scaling ligands different layouts (legible others).  Additionally, colors can given select genes (example, highlight specific signaling path).","code":"gene_network(dom, clust = \"CD16_monocyte\", OutgoingSignalingClust = \"CD14_monocyte\") gene_network(dom,   clust = \"CD16_monocyte\", OutgoingSignalingClust = \"CD14_monocyte\",   lig_scale = 25, layout = \"sphere\" ) gene_network(dom,   clust = \"CD16_monocyte\", OutgoingSignalingClust = \"CD14_monocyte\",   cols = c(\"CD1D\" = \"violet\", \"LILRB2\" = \"violet\", \"FOSB\" = \"violet\"), lig_scale = 10 )"},{"path":"/plotting_vignette.html","id":"network-showing-interaction-strength-across-data","dir":"","previous_headings":"Network Plots","what":"Network Showing Interaction Strength Across Data","title":"Visualizing domino2 data","text":"signaling_network() can used create network plot nodes clusters edges indicate signaling one cluster another.  addition changes scaling, thresholds, layouts, plot can modified selecting incoming outgoing clusters (!). example view signaling CD14 Monocytes cluster:","code":"signaling_network(dom) signaling_network(dom,   showOutgoingSignalingClusts = \"CD14_monocyte\", scale = \"none\",   norm = \"none\", layout = \"fr\", scale_by = \"none\", vert_scale = 5 )"},{"path":[]},{"path":"/plotting_vignette.html","id":"chord-diagrams-connecting-ligands-and-receptors","dir":"","previous_headings":"Other Types of Plot","what":"Chord Diagrams Connecting Ligands and Receptors","title":"Visualizing domino2 data","text":"new addition domino2, circos_ligand_receptor() creates chord plot showing ligands can activate specific receptor, displaying mean cluster expression ligand width chord.  function can given cluster colors match plots may make data. addition, plot can adjusted changing threshold ligand expression required linkage visualized selecting clusters interest.","code":"circos_ligand_receptor(dom, receptor = \"CD74\") cols <- c(   \"red\", \"orange\", \"green\", \"blue\", \"pink\", \"purple\",   \"slategrey\", \"firebrick\", \"hotpink\" ) names(cols) <- levels(dom@clusters) circos_ligand_receptor(dom, receptor = \"CD74\", cell_colors = cols)"},{"path":"/plotting_vignette.html","id":"scatter-plot-to-visualize-correlation","dir":"","previous_headings":"Other Types of Plot","what":"Scatter Plot to Visualize Correlation","title":"Visualizing domino2 data","text":"cor_scatter() can used plot cell based expression selected TF receptor. produces scatter plot well line best fit look receptor-TF correlation.  keep mind argument remove_rec_dropout match parameter used domino object built. case, use build parameter, leave value argument default value FALSE.","code":"cor_scatter(dom, \"FOSB\", \"CD74\")"},{"path":"/plotting_vignette.html","id":"continued-development","dir":"","previous_headings":"","what":"Continued Development","title":"Visualizing domino2 data","text":"Since domino2 package still developed, new functions features implemented future versions. meantime, view example analysis, see Getting Started page, see domino object structure page get familiar object structure. Additionally, find bugs, questions, want share idea, please let us know . Vignette Build Information Date last built session information:","code":"Sys.Date() #> [1] \"2023-10-05\" sessionInfo() #> R version 4.2.1 (2022-06-23) #> Platform: x86_64-pc-linux-gnu (64-bit) #> Running under: Ubuntu 22.04.2 LTS #>  #> Matrix products: default #> BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.10.0 #> LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.10.0 #>  #> locale: #>  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C               #>  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8     #>  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8    #>  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                  #>  [9] LC_ADDRESS=C               LC_TELEPHONE=C             #> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C        #>  #> attached base packages: #> [1] grid      stats     graphics  grDevices utils     datasets  methods   #> [8] base      #>  #> other attached packages: #> [1] ComplexHeatmap_2.12.1 circlize_0.4.15       patchwork_1.1.3       #> [4] RColorBrewer_1.1-3    Biobase_2.56.0        BiocGenerics_0.42.0   #> [7] domino2_0.2.1         #>  #> loaded via a namespace (and not attached): #>   [1] utf8_1.2.3             R.utils_2.12.2         spatstat.explore_3.2-3 #>   [4] reticulate_1.32.0      tidyselect_1.2.0       RSQLite_2.3.1          #>   [7] AnnotationDbi_1.58.0   htmlwidgets_1.6.2      Rtsne_0.16             #>  [10] munsell_0.5.0          codetools_0.2-19       ica_1.0-3              #>  [13] future_1.33.0          miniUI_0.1.1.1         withr_2.5.1            #>  [16] spatstat.random_3.1-6  colorspace_2.1-0       progressr_0.14.0       #>  [19] filelock_1.0.2         knitr_1.44             rstudioapi_0.15.0      #>  [22] Seurat_4.3.0.1         stats4_4.2.1           ROCR_1.0-11            #>  [25] ggsignif_0.6.4         tensor_1.5             listenv_0.9.0          #>  [28] NMF_0.26               labeling_0.4.3         GenomeInfoDbData_1.2.8 #>  [31] polyclip_1.10-4        farver_2.1.1           bit64_4.0.5            #>  [34] rprojroot_2.0.3        parallelly_1.36.0      vctrs_0.6.3            #>  [37] generics_0.1.3         xfun_0.40              BiocFileCache_2.4.0    #>  [40] R6_2.5.1               doParallel_1.0.17      GenomeInfoDb_1.32.4    #>  [43] clue_0.3-65            bitops_1.0-7           spatstat.utils_3.0-3   #>  [46] cachem_1.0.8           promises_1.2.1         scales_1.2.1           #>  [49] gtable_0.3.4           downlit_0.4.3          globals_0.16.2         #>  [52] processx_3.8.2         goftest_1.2-3          rlang_1.1.1            #>  [55] GlobalOptions_0.1.2    splines_4.2.1          rstatix_0.7.2          #>  [58] lazyeval_0.2.2         broom_1.0.5            spatstat.geom_3.2-5    #>  [61] BiocManager_1.30.22    yaml_2.3.7             reshape2_1.4.4         #>  [64] abind_1.4-5            backports_1.4.1        httpuv_1.6.11          #>  [67] tools_4.2.1            gridBase_0.4-7         ggplot2_3.4.3          #>  [70] ellipsis_0.3.2         ggridges_0.5.4         Rcpp_1.0.11            #>  [73] plyr_1.8.8             progress_1.2.2         zlibbioc_1.42.0        #>  [76] purrr_1.0.2            RCurl_1.98-1.12        ps_1.7.5               #>  [79] prettyunits_1.2.0      ggpubr_0.6.0           deldir_1.0-9           #>  [82] pbapply_1.7-2          GetoptLong_1.0.5       cowplot_1.1.1          #>  [85] S4Vectors_0.34.0       zoo_1.8-12             SeuratObject_4.1.3     #>  [88] ggrepel_0.9.3          cluster_2.1.4          fs_1.6.3               #>  [91] magrittr_2.0.3         data.table_1.14.8      scattermore_1.2        #>  [94] lmtest_0.9-40          RANN_2.6.1             whisker_0.4.1          #>  [97] R.cache_0.16.0         fitdistrplus_1.1-11    matrixStats_1.0.0      #> [100] pkgload_1.3.3          hms_1.1.3              mime_0.12              #> [103] evaluate_0.21          xtable_1.8-4           XML_3.99-0.14          #> [106] IRanges_2.30.1         gridExtra_2.3          shape_1.4.6            #> [109] compiler_4.2.1         biomaRt_2.52.0         tibble_3.2.1           #> [112] KernSmooth_2.23-22     crayon_1.5.2           R.oo_1.25.0            #> [115] htmltools_0.5.6        mgcv_1.9-0             later_1.3.1            #> [118] tidyr_1.3.0            DBI_1.1.3              dbplyr_2.3.3           #> [121] MASS_7.3-60            rappdirs_0.3.3         car_3.1-2              #> [124] Matrix_1.6-1.1         cli_3.6.1              R.methodsS3_1.8.2      #> [127] parallel_4.2.1         igraph_1.5.1           pkgconfig_2.0.3        #> [130] pkgdown_2.0.7          registry_0.5-1         sp_2.0-0               #> [133] plotly_4.10.2          spatstat.sparse_3.0-2  xml2_1.3.5             #> [136] roxygen2_7.2.3         foreach_1.5.2          rngtools_1.5.2         #> [139] XVector_0.36.0         stringr_1.5.0          callr_3.7.3            #> [142] digest_0.6.33          sctransform_0.4.0      RcppAnnoy_0.0.21       #> [145] spatstat.data_3.0-1    Biostrings_2.64.1      rmarkdown_2.25         #> [148] leiden_0.4.3           uwot_0.1.16            curl_5.0.2             #> [151] shiny_1.7.5            commonmark_1.9.0       rjson_0.2.21           #> [154] lifecycle_1.0.3        nlme_3.1-163           jsonlite_1.8.7         #> [157] carData_3.0-5          desc_1.4.2             viridisLite_0.4.2      #> [160] fansi_1.0.4            pillar_1.9.0           lattice_0.21-8         #> [163] KEGGREST_1.36.3        fastmap_1.1.1          httr_1.4.7             #> [166] pkgbuild_1.4.2         survival_3.5-7         glue_1.6.2             #> [169] png_0.1-8              iterators_1.0.14       bit_4.0.5              #> [172] stringi_1.7.12         blob_1.2.4             memoise_2.0.1          #> [175] styler_1.10.2          dplyr_1.1.3            irlba_2.3.5.1          #> [178] future.apply_1.11.0"},{"path":"/reference/add_rl_column.html","id":null,"dir":"Reference","previous_headings":"","what":"Adds a column to the RL signaling data frame. — add_rl_column","title":"Adds a column to the RL signaling data frame. — add_rl_column","text":"function adds column internal rl 'map' used map receptor receptor complexes ligand ligand complexes.","code":""},{"path":"/reference/add_rl_column.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Adds a column to the RL signaling data frame. — add_rl_column","text":"","code":"add_rl_column(map, map_ref, conv, new_name)"},{"path":"/reference/add_rl_column.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Adds a column to the RL signaling data frame. — add_rl_column","text":"map RL signaling data frame. map_ref Name column match new data conv Data frame matching current data map new data. new_name Name new column created RL map","code":""},{"path":"/reference/add_rl_column.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Adds a column to the RL signaling data frame. — add_rl_column","text":"updated RL signaling data frame","code":""},{"path":"/reference/add_rl_column.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Adds a column to the RL signaling data frame. — add_rl_column","text":"","code":"lr_name <- data.frame(\"abbrev\" = c(\"L\", \"R\"), \"full\" = c(\"Ligand\", \"Receptor\")) rl_map_expanded <- add_rl_column(map = domino2:::rl_map_tiny, map_ref = \"type_A\",  conv = lr_name, new_name = \"type_A_full\")"},{"path":"/reference/build_domino.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate a signaling network for a domino object — build_domino","title":"Calculate a signaling network for a domino object — build_domino","text":"function calculates signaling network. requires domino object preprocessed create_domino returns domino object prepared plotting various plotting functions package.","code":""},{"path":"/reference/build_domino.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate a signaling network for a domino object — build_domino","text":"","code":"build_domino(   dom,   max_tf_per_clust = 5,   min_tf_pval = 0.01,   max_rec_per_tf = 5,   rec_tf_cor_threshold = 0.15,   min_rec_percentage = 0.1 )"},{"path":"/reference/build_domino.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate a signaling network for a domino object — build_domino","text":"dom Domino object create_domino. max_tf_per_clust Maximum number transcription factors called active cluster. min_tf_pval Minimum p-value differential feature score test call transcription factor active cluster. max_rec_per_tf Maximum number receptors link transcription factor. rec_tf_cor_threshold Minimum pearson correlation used consider receptor linked transcription factor. Increasing decrease number receptors linked transcription factor. min_rec_percentage Minimum percentage cells cluster expressing receptor receptor linked trancription factors cluster.","code":""},{"path":"/reference/build_domino.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate a signaling network for a domino object — build_domino","text":"domino object signaling network built","code":""},{"path":"/reference/build_domino.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate a signaling network for a domino object — build_domino","text":"","code":"pbmc_dom_tiny_built <- build_domino(dom = domino2:::pbmc_dom_tiny, min_tf_pval = .001, max_tf_per_clust = 25,  max_rec_per_tf = 25, rec_tf_cor_threshold = .25, min_rec_percentage = 0.1)"},{"path":"/reference/circos_ligand_receptor.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot expression of a receptor's ligands by other cell types as a chord plot — circos_ligand_receptor","title":"Plot expression of a receptor's ligands by other cell types as a chord plot — circos_ligand_receptor","text":"Creates chord plot expression ligands can activate specified receptor chord widths correspond mean ligand expression cluster.","code":""},{"path":"/reference/circos_ligand_receptor.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot expression of a receptor's ligands by other cell types as a chord plot — circos_ligand_receptor","text":"","code":"circos_ligand_receptor(   dom,   receptor,   ligand_expression_threshold = 0.01,   cell_idents = NULL,   cell_colors = NULL )"},{"path":"/reference/circos_ligand_receptor.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot expression of a receptor's ligands by other cell types as a chord plot — circos_ligand_receptor","text":"dom Domino object undergone network building build_domino() receptor Name receptor active least one cell type domino object ligand_expression_threshold Minimum mean expression value ligand cell type chord rendered cell type receptor cell_idents Vector cell types cluster assignments domino object included plot. cell_colors Named vector color names hex codes names correspond plotted cell types color values","code":""},{"path":"/reference/circos_ligand_receptor.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot expression of a receptor's ligands by other cell types as a chord plot — circos_ligand_receptor","text":"renders circos plot active graphics device","code":""},{"path":"/reference/circos_ligand_receptor.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot expression of a receptor's ligands by other cell types as a chord plot — circos_ligand_receptor","text":"","code":"cols <- c(   \"red\", \"orange\", \"green\", \"blue\", \"pink\", \"purple\",   \"slategrey\", \"firebrick\", \"hotpink\" ) names(cols) <- dom_clusters(domino2:::pbmc_dom_built_tiny, labels = FALSE) circos_ligand_receptor(domino2:::pbmc_dom_built_tiny, receptor = \"FCER2\", cell_colors = cols) #> There are more than one numeric columns in the data frame. Take the #> first two numeric columns and draw the link ends with unequal width. #>  #> Type `circos.par$message = FALSE` to suppress the message."},{"path":"/reference/collate_network_items.html","id":null,"dir":"Reference","previous_headings":"","what":"Extracts all features, receptors, or ligands present in a signaling network. — collate_network_items","title":"Extracts all features, receptors, or ligands present in a signaling network. — collate_network_items","text":"function collates features, receptors, ligands found signaling network anywhere list clusters. can useful comparing signaling networks across two separate conditions. order run build_domino() must run object previously.","code":""},{"path":"/reference/collate_network_items.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extracts all features, receptors, or ligands present in a signaling network. — collate_network_items","text":"","code":"collate_network_items(dom, clusters = NULL, return = NULL)"},{"path":"/reference/collate_network_items.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extracts all features, receptors, or ligands present in a signaling network. — collate_network_items","text":"dom Domino object containing signaling network (.e. build_domino() run) clusters Vector indicating clusters collate network items . left NULL clusters included. return String indicating collate 'features', 'receptors', 'ligands'. '' list three returned.","code":""},{"path":"/reference/collate_network_items.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extracts all features, receptors, or ligands present in a signaling network. — collate_network_items","text":"vector containing features, receptors, ligands data set list containing three.","code":""},{"path":"/reference/convert_genes.html","id":null,"dir":"Reference","previous_headings":"","what":"Use biomaRt to convert genes — convert_genes","title":"Use biomaRt to convert genes — convert_genes","text":"function reads vector genes converts genes specified symbol type","code":""},{"path":"/reference/convert_genes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Use biomaRt to convert genes — convert_genes","text":"","code":"convert_genes(   genes,   from = c(\"ENSMUSG\", \"ENSG\", \"MGI\", \"HGNC\"),   to = c(\"MGI\", \"HGNC\"),   host = \"https://www.ensembl.org\" )"},{"path":"/reference/convert_genes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Use biomaRt to convert genes — convert_genes","text":"genes Vector genes convert. Format gene input (ENSMUSG, ENSG, MGI, HGNC) Format gene output (MGI, HGNC) host Host connect . Defaults https://www.ensembl.org following useMart default, can changed archived hosts useMart fails connect.","code":""},{"path":"/reference/convert_genes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Use biomaRt to convert genes — convert_genes","text":"data frame input genes col 1 output col 2","code":""},{"path":"/reference/cor_heatmap.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a heatmap of correlation between receptors and transcription factors — cor_heatmap","title":"Create a heatmap of correlation between receptors and transcription factors — cor_heatmap","text":"Creates heatmap correlation values receptors transcription factors either boolean threshold continuous values displayed","code":""},{"path":"/reference/cor_heatmap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a heatmap of correlation between receptors and transcription factors — cor_heatmap","text":"","code":"cor_heatmap(   dom,   bool = FALSE,   bool_thresh = 0.15,   title = TRUE,   feats = NULL,   recs = NULL,   mark_connections = FALSE,   ... )"},{"path":"/reference/cor_heatmap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a heatmap of correlation between receptors and transcription factors — cor_heatmap","text":"dom Domino object network built (build_domino()) bool Boolean indicating whether heatmap continuous boolean. boolean bool_thresh used determine define activity positive negative. bool_thresh Numeric indicating threshold separating '' '' feature activity making boolean heatmap. title Either string use title boolean describing whether include title. order pass 'main' parameter  ComplexHeatmap::Heatmap()  must set title FALSE. feats Either vector features include heatmap '' features. left NULL features selected signaling network shown. recs Either vector receptors include heatmap '' receptors. left NULL receptors selected signaling network connected features plotted shown. mark_connections Boolean indicating whether add 'x' cells connected receptor TF. Default FALSE. ... parameters pass  ComplexHeatmap::Heatmap() . Note use 'main' parameter  ComplexHeatmap::Heatmap()  must set title = FALSE use 'annCol' 'annColors' ann_cols must FALSE.","code":""},{"path":"/reference/cor_heatmap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a heatmap of correlation between receptors and transcription factors — cor_heatmap","text":"Heatmap rendered active graphics device","code":""},{"path":"/reference/cor_heatmap.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a heatmap of correlation between receptors and transcription factors — cor_heatmap","text":"","code":"receptors <- c(\"FAS\", \"CD22\", \"FCER2\") tfs <- c(\"ZNF257\", \"RUNX1\") cor_heatmap(domino2:::pbmc_dom_built_tiny, feats = tfs, recs = receptors)"},{"path":"/reference/cor_scatter.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a correlation plot between transcription factor activation score and receptor — cor_scatter","title":"Create a correlation plot between transcription factor activation score and receptor — cor_scatter","text":"Create correlation plot transcription factor activation score receptor","code":""},{"path":"/reference/cor_scatter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a correlation plot between transcription factor activation score and receptor — cor_scatter","text":"","code":"cor_scatter(dom, tf, rec, remove_rec_dropout = TRUE, ...)"},{"path":"/reference/cor_scatter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a correlation plot between transcription factor activation score and receptor — cor_scatter","text":"dom Domino object network built (build_domino()) tf Target TF module plotting receptor rec Target receptor plotting TF remove_rec_dropout Whether remove cells zero expression plot. match setting build_domino. ... parameters pass ggscatter.","code":""},{"path":"/reference/cor_scatter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a correlation plot between transcription factor activation score and receptor — cor_scatter","text":"ggplot object","code":""},{"path":"/reference/cor_scatter.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a correlation plot between transcription factor activation score and receptor — cor_scatter","text":"","code":"cor_scatter(domino2:::pbmc_dom_built_tiny, \"RUNX1\", \"FAS\")"},{"path":"/reference/count_linkage.html","id":null,"dir":"Reference","previous_headings":"","what":"Count occurrences of linkages across multiple domino results from a linkage summary — count_linkage","title":"Count occurrences of linkages across multiple domino results from a linkage summary — count_linkage","text":"Count occurrences linkages across multiple domino results linkage summary","code":""},{"path":"/reference/count_linkage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Count occurrences of linkages across multiple domino results from a linkage summary — count_linkage","text":"","code":"count_linkage(   linkage_summary,   cluster,   group.by = NULL,   linkage = \"rec_lig\",   subject_names = NULL )"},{"path":"/reference/count_linkage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Count occurrences of linkages across multiple domino results from a linkage summary — count_linkage","text":"linkage_summary linkage_summary object cluster name cell cluster compared across multiple domino results group.name column linkage_summary\\@subject_meta group subjects counting. NULL, total counts linkages linkages cluster across subjects given. linkage stored linkage domino object. Can compare ('tfs', 'rec', 'incoming_lig', 'tfs_rec', 'rec_lig') subject_names vector subject_names linkage_summary compared. NULL, subject_names linkage summary included counting.","code":""},{"path":"/reference/count_linkage.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Count occurrences of linkages across multiple domino results from a linkage summary — count_linkage","text":"data frame columns unique linkage features counts many times linkage occured across compared domino results. group.used, counts linkages also provided columns named unique values group.variable.","code":""},{"path":"/reference/create_domino.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a domino object and prepare it for network construction — create_domino","title":"Create a domino object and prepare it for network construction — create_domino","text":"function reads receptor ligand signaling database, cell level features kind (ie. output pySCENIC), z-scored single cell data, cluster id single cell data, calculates correlation matrix receptors features (transcription factor module scores using pySCENIC), finds features enriched cluster. return domino object prepared build_domino(), calculate signaling network.","code":""},{"path":"/reference/create_domino.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a domino object and prepare it for network construction — create_domino","text":"","code":"create_domino(   rl_map,   features,   ser = NULL,   counts = NULL,   z_scores = NULL,   clusters = NULL,   use_clusters = TRUE,   tf_targets = NULL,   verbose = TRUE,   use_complexes = TRUE,   rec_min_thresh = 0.025,   remove_rec_dropout = TRUE,   tf_selection_method = \"clusters\",   tf_variance_quantile = 0.5 )"},{"path":"/reference/create_domino.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a domino object and prepare it for network construction — create_domino","text":"rl_map Data frame row describes receptor-ligand interaction required columns gene_A & gene_B including gene names receptor ligand type_A & type_B annotating genes B ligand (L) receptor (R) features Either path csv containing cell level features interest (ie. auc matrix pySCENIC) named matrix cells columns features rows. ser Seurat object containing scaled RNA expression data RNA assay slot cluster identity. Either ser object z_scores clusters must provided. ser present z_scores clusters ignored. counts Counts matrix data. Seurat object provided ignored. used threshold receptors dropout. z_scores Matrix containing z-scored expression data cells cells columns features rows. Either z_scores clusters must provided ser object. ser present z_scores clusters ignored. clusters Named factor containing cell cluster names cells. Either clusters z_scores ser must provided. ser present z_scores clusters ignored. use_clusters Boolean indicating whether use clusters Seurat object. Seurat object provided parameter ignored. tf_targets Optional. list names transcription factors stored values character vectors genes transcription factor's regulon. verbose Boolean indicating whether print progress computation. use_complexes Boolean indicating whether wish use receptor/ligand complexes receptor ligand signaling database. FALSE, receptor/ligand pairs either functions protein complex considered constructing signaling network. rec_min_thresh Minimum expression level receptors cell. Default 0.025 2.5 percent cells data set. important calculating correlation connect receptors transcription activation. threshold low correlation calculations proceed cells non-zero expression. remove_rec_dropout Whether remove receptors 0 expression counts calculating correlations. can reduce false positive correlation calculations receptors high dropout rates. tf_selection_method Selection method target transcription factors. 'clusters' differential expression clusters calculated. 'variable' variable transcription factors selected. '' transcription factors feature matrix used. Default 'clusters'. Note wish use clusters intercellular signaling downstream MUST choose clusters. tf_variance_quantile proportion variable features take using variance threshold features. Default 0.5. Higher numbers keep features. Ignored tf_selection_method 'variable'","code":""},{"path":"/reference/create_domino.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a domino object and prepare it for network construction — create_domino","text":"domino object","code":""},{"path":"/reference/create_domino.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a domino object and prepare it for network construction — create_domino","text":"","code":"pbmc_dom_tiny_all <- pbmc_dom_tiny <- create_domino(rl_map = domino2:::rl_map_tiny,  features = domino2:::auc_tiny, counts = domino2:::RNA_count_tiny, z_scores = domino2:::RNA_zscore_tiny,  clusters = domino2:::clusters_tiny, tf_targets = domino2:::regulon_list_tiny, use_clusters = FALSE,  use_complexes = FALSE, rec_min_thresh = 0.1, remove_rec_dropout = TRUE,  tf_selection_method = \"all\") #> Reading in and processing signaling database #> Database provided from source: CellPhoneDB #> Getting z_scores, clusters, and counts #> Calculating correlations #> 1 of 3 #> 2 of 3 #> 3 of 3 #> FAS has component genes that did not pass testing parameters #> CD22 has component genes that did not pass testing parameters #> IGF1R has component genes that did not pass testing parameters  pbmc_dom_tiny_clustered <- create_domino(rl_map = domino2:::rl_map_tiny,  features = domino2:::auc_tiny, counts = domino2:::RNA_count_tiny, z_scores = domino2:::RNA_zscore_tiny,  clusters = domino2:::clusters_tiny, tf_targets = domino2:::regulon_list_tiny,  use_clusters = TRUE, use_complexes = TRUE, remove_rec_dropout = FALSE) #> Reading in and processing signaling database #> Database provided from source: CellPhoneDB #> Getting z_scores, clusters, and counts #> Calculating feature enrichment by cluster #> 1 of 3 #> 2 of 3 #> 3 of 3 #> Calculating correlations #> 1 of 3 #> Warning: Cannot compute exact p-value with ties #> Warning: Cannot compute exact p-value with ties #> Warning: Cannot compute exact p-value with ties #> Warning: Cannot compute exact p-value with ties #> Warning: Cannot compute exact p-value with ties #> 2 of 3 #> Warning: Cannot compute exact p-value with ties #> Warning: Cannot compute exact p-value with ties #> Warning: Cannot compute exact p-value with ties #> Warning: Cannot compute exact p-value with ties #> Warning: Cannot compute exact p-value with ties #> 3 of 3 #> Warning: Cannot compute exact p-value with ties #> Warning: Cannot compute exact p-value with ties #> Warning: Cannot compute exact p-value with ties #> Warning: Cannot compute exact p-value with ties #> Warning: Cannot compute exact p-value with ties #> IGF1R has component genes that did not pass testing parameters"},{"path":"/reference/create_regulon_list_scenic.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a list of genes in regulons inferred by SCENIC — create_regulon_list_scenic","title":"Create a list of genes in regulons inferred by SCENIC — create_regulon_list_scenic","text":"Generates list transcription factors genes targeted transcription factor part regulon inferred pySCENIC","code":""},{"path":"/reference/create_regulon_list_scenic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a list of genes in regulons inferred by SCENIC — create_regulon_list_scenic","text":"","code":"create_regulon_list_scenic(regulons)"},{"path":"/reference/create_regulon_list_scenic.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a list of genes in regulons inferred by SCENIC — create_regulon_list_scenic","text":"regulons Dataframe file path table output grn (gene regulatory network) function pySCENIC","code":""},{"path":"/reference/create_regulon_list_scenic.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a list of genes in regulons inferred by SCENIC — create_regulon_list_scenic","text":"list names transcription factors stored values character vectors genes inferred regulons","code":""},{"path":"/reference/create_regulon_list_scenic.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a list of genes in regulons inferred by SCENIC — create_regulon_list_scenic","text":"","code":"regulon_list_tiny <- create_regulon_list_scenic(regulons = domino2:::regulons_tiny)"},{"path":"/reference/create_rl_map_cellphonedb.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a receptor-ligand map from a cellphonedb signaling database — create_rl_map_cellphonedb","title":"Create a receptor-ligand map from a cellphonedb signaling database — create_rl_map_cellphonedb","text":"Generates data frame ligand-receptor interactions CellPhoneDB database annotating genes encoding interacting ligands receptors queried transcriptomic data.","code":""},{"path":"/reference/create_rl_map_cellphonedb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a receptor-ligand map from a cellphonedb signaling database — create_rl_map_cellphonedb","text":"","code":"create_rl_map_cellphonedb(   genes,   proteins,   interactions,   complexes = NULL,   database_name = \"CellPhoneDB\",   gene_conv = NULL,   gene_conv_host = \"https://www.ensembl.org\",   alternate_convert = FALSE,   alternate_convert_table = NULL )"},{"path":"/reference/create_rl_map_cellphonedb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a receptor-ligand map from a cellphonedb signaling database — create_rl_map_cellphonedb","text":"genes dataframe file path table gene names uniprot, hgnc_symbol, ensembl format cellphonedb database format proteins dataframe file path table protein features cellphonedb format interactions dataframe file path table protein-protein interactions cellphonedb format complexes optional: dataframe file path table protein complexes cellphonedb format database_name name database used, stored output gene_conv tuple (, ) (source, target) gene conversion orthologs desired; options ENSMUSG, ENSG, MGI, HGNC gene_conv_host host conversion; default ensembl, also use mirrors desired alternate_convert boolean like use non-ensembl method conversion (must supply table; recommended, use ensembl ) alternate_convert_table supplied table non-ensembl method conversion","code":""},{"path":"/reference/create_rl_map_cellphonedb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a receptor-ligand map from a cellphonedb signaling database — create_rl_map_cellphonedb","text":"Data frame row describes possible receptor-ligand interaction","code":""},{"path":"/reference/create_rl_map_cellphonedb.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a receptor-ligand map from a cellphonedb signaling database — create_rl_map_cellphonedb","text":"","code":"rl_map_tiny <- create_rl_map_cellphonedb(genes = domino2:::genes_tiny,   proteins = domino2:::proteins_tiny, interactions = domino2:::interactions_tiny,   complexes = domino2:::complexes_tiny)"},{"path":"/reference/do_norm.html","id":null,"dir":"Reference","previous_headings":"","what":"Normalize a matrix to its max value by row or column — do_norm","title":"Normalize a matrix to its max value by row or column — do_norm","text":"Normalizes matrix max value row column","code":""},{"path":"/reference/do_norm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Normalize a matrix to its max value by row or column — do_norm","text":"","code":"do_norm(mat, dir)"},{"path":"/reference/do_norm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Normalize a matrix to its max value by row or column — do_norm","text":"mat Matrix normalized dir Direction normalize matrix c('row', 'col')","code":""},{"path":"/reference/do_norm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Normalize a matrix to its max value by row or column — do_norm","text":"normalized matrix direction specified.","code":""},{"path":"/reference/dom_clusters.html","id":null,"dir":"Reference","previous_headings":"","what":"Access clusters — dom_clusters","title":"Access clusters — dom_clusters","text":"function pull cluster information domino object","code":""},{"path":"/reference/dom_clusters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Access clusters — dom_clusters","text":"","code":"dom_clusters(dom, labels = FALSE)"},{"path":"/reference/dom_clusters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Access clusters — dom_clusters","text":"dom domino object created create_domino() labels boolean whether return cluster labels cell clusters used inferring communication","code":""},{"path":"/reference/dom_clusters.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Access clusters — dom_clusters","text":"vector containing either names clusters used factors cluster label individual cell","code":""},{"path":"/reference/dom_clusters.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Access clusters — dom_clusters","text":"","code":"cluster_names <- dom_clusters(domino2:::pbmc_dom_built_tiny) cell_cluster_label <- dom_clusters(domino2:::pbmc_dom_built_tiny, labels = TRUE)"},{"path":"/reference/dom_correlations.html","id":null,"dir":"Reference","previous_headings":"","what":"Access correlations — dom_correlations","title":"Access correlations — dom_correlations","text":"function pull receptor-transcription factor correlations domino object","code":""},{"path":"/reference/dom_correlations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Access correlations — dom_correlations","text":"","code":"dom_correlations(dom)"},{"path":"/reference/dom_correlations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Access correlations — dom_correlations","text":"dom domino object created create_domino()","code":""},{"path":"/reference/dom_correlations.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Access correlations — dom_correlations","text":"matrix containing correlation values receptor (row) transcription factor (column)","code":""},{"path":"/reference/dom_correlations.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Access correlations — dom_correlations","text":"","code":"cor_matrix <- dom_correlations(domino2:::pbmc_dom_built_tiny)"},{"path":"/reference/dom_counts.html","id":null,"dir":"Reference","previous_headings":"","what":"Access counts — dom_counts","title":"Access counts — dom_counts","text":"function pull gene expression domino object","code":""},{"path":"/reference/dom_counts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Access counts — dom_counts","text":"","code":"dom_counts(dom)"},{"path":"/reference/dom_counts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Access counts — dom_counts","text":"dom domino object created create_domino()","code":""},{"path":"/reference/dom_counts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Access counts — dom_counts","text":"matrix containing gene expression values gene (row) cell (column)","code":""},{"path":"/reference/dom_counts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Access counts — dom_counts","text":"","code":"counts <- dom_counts(domino2:::pbmc_dom_built_tiny)"},{"path":"/reference/dom_database.html","id":null,"dir":"Reference","previous_headings":"","what":"Access database — dom_database","title":"Access database — dom_database","text":"function pull database information domino object","code":""},{"path":"/reference/dom_database.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Access database — dom_database","text":"","code":"dom_database(dom, name_only = TRUE)"},{"path":"/reference/dom_database.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Access database — dom_database","text":"dom domino object created name_only boolean whether return name database used entire database stored. Default TRUE.","code":""},{"path":"/reference/dom_database.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Access database — dom_database","text":"vector unique databases used building domino object data frame includes database information used domino object creation","code":""},{"path":"/reference/dom_database.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Access database — dom_database","text":"","code":"database_name <- dom_database(domino2:::pbmc_dom_built_tiny) full_database <- dom_database(domino2:::pbmc_dom_built_tiny, name_only = FALSE)"},{"path":"/reference/dom_de.html","id":null,"dir":"Reference","previous_headings":"","what":"Access differential expression — dom_de","title":"Access differential expression — dom_de","text":"function pull differential expression p values domino object","code":""},{"path":"/reference/dom_de.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Access differential expression — dom_de","text":"","code":"dom_de(dom)"},{"path":"/reference/dom_de.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Access differential expression — dom_de","text":"dom domino object created create_domino()","code":""},{"path":"/reference/dom_de.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Access differential expression — dom_de","text":"matrix containing p values differential expression transcription factors (rows) cluster (columns)","code":""},{"path":"/reference/dom_de.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Access differential expression — dom_de","text":"","code":"de_mat <- dom_de(domino2:::pbmc_dom_built_tiny)"},{"path":"/reference/dom_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Access build information — dom_info","title":"Access build information — dom_info","text":"function pull parameters used running build_domino() domino object","code":""},{"path":"/reference/dom_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Access build information — dom_info","text":"","code":"dom_info(dom)"},{"path":"/reference/dom_info.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Access build information — dom_info","text":"dom domino object created create_domino()","code":""},{"path":"/reference/dom_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Access build information — dom_info","text":"list containing booleans whether object created build, list build parameters used build_domino() infer signaling network","code":""},{"path":"/reference/dom_info.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Access build information — dom_info","text":"","code":"build_details <- dom_info(domino2:::pbmc_dom_built_tiny)"},{"path":"/reference/dom_linkages.html","id":null,"dir":"Reference","previous_headings":"","what":"Access linkages — dom_linkages","title":"Access linkages — dom_linkages","text":"function pull linkages domino object","code":""},{"path":"/reference/dom_linkages.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Access linkages — dom_linkages","text":"","code":"dom_linkages(   dom,   link_type = c(\"complexes\", \"receptor-ligand\", \"tf-target\", \"tf-receptor\", \"receptor\",     \"incoming-ligand\"),   by_cluster = FALSE )"},{"path":"/reference/dom_linkages.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Access linkages — dom_linkages","text":"dom domino object created create_domino() link_type One value (\"complexes\", \"receptor-ligand\", \"tf-target\", \"tf-receptor\", \"receptor\", \"incoming-ligand\") used select desired type linkage by_cluster boolean indicate whether linkages returned overall cluster","code":""},{"path":"/reference/dom_linkages.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Access linkages — dom_linkages","text":"list containing linkages combination receptors, ligands, transcription factors, clusters","code":""},{"path":"/reference/dom_linkages.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Access linkages — dom_linkages","text":"","code":"complexes <- dom_linkages(domino2:::pbmc_dom_built_tiny, \"complexes\") tf_rec_by_cluster <- dom_linkages(domino2:::pbmc_dom_built_tiny, \"tf-receptor\", TRUE)"},{"path":"/reference/dom_network_items.html","id":null,"dir":"Reference","previous_headings":"","what":"Access all features, receptors, or ligands present in a signaling network. — dom_network_items","title":"Access all features, receptors, or ligands present in a signaling network. — dom_network_items","text":"function collates features, receptors, ligands found signaling network anywhere list clusters. can useful comparing signaling networks across two separate conditions. order run build_domino() must run object previously.","code":""},{"path":"/reference/dom_network_items.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Access all features, receptors, or ligands present in a signaling network. — dom_network_items","text":"","code":"dom_network_items(dom, clusters = NULL, return = NULL)"},{"path":"/reference/dom_network_items.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Access all features, receptors, or ligands present in a signaling network. — dom_network_items","text":"dom Domino object containing signaling network (.e. build_domino() run) clusters Vector indicating clusters collate network items . left NULL clusters included. return String indicating collate \"features\", \"receptors\", \"ligands\". \"\" list three returned.","code":""},{"path":"/reference/dom_network_items.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Access all features, receptors, or ligands present in a signaling network. — dom_network_items","text":"vector containing features, receptors, ligands data set list containing three.","code":""},{"path":"/reference/dom_network_items.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Access all features, receptors, or ligands present in a signaling network. — dom_network_items","text":"","code":"monocyte_receptors <- dom_network_items(domino2:::pbmc_dom_built_tiny, \"CD14_monocyte\", \"receptors\") all_tfs <- dom_network_items(domino2:::pbmc_dom_built_tiny, return = \"features\")"},{"path":"/reference/dom_signaling.html","id":null,"dir":"Reference","previous_headings":"","what":"Access signaling — dom_signaling","title":"Access signaling — dom_signaling","text":"function pull signaling matrices domino object","code":""},{"path":"/reference/dom_signaling.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Access signaling — dom_signaling","text":"","code":"dom_signaling(dom, cluster = NULL)"},{"path":"/reference/dom_signaling.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Access signaling — dom_signaling","text":"dom domino object created create_domino() cluster Either NULL indicate global signaling specific cluster ","code":""},{"path":"/reference/dom_signaling.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Access signaling — dom_signaling","text":"data.frame containing signaling score ligand (row) cluster (column) data.frame containing global summed signaling scores receptors (rows) ligands (columns) cluster","code":""},{"path":"/reference/dom_signaling.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Access signaling — dom_signaling","text":"","code":"monocyte_signaling <- dom_signaling(domino2:::pbmc_dom_built_tiny, cluster = \"CD14_monocyte\")"},{"path":"/reference/dom_tf_activation.html","id":null,"dir":"Reference","previous_headings":"","what":"Access transcription factor activation — dom_tf_activation","title":"Access transcription factor activation — dom_tf_activation","text":"function pull transcription factor activation scores domino object","code":""},{"path":"/reference/dom_tf_activation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Access transcription factor activation — dom_tf_activation","text":"","code":"dom_tf_activation(dom)"},{"path":"/reference/dom_tf_activation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Access transcription factor activation — dom_tf_activation","text":"dom domino object created create_domino()","code":""},{"path":"/reference/dom_tf_activation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Access transcription factor activation — dom_tf_activation","text":"matrix containing transcription factor activation scores feature (row) cell (column)","code":""},{"path":"/reference/dom_tf_activation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Access transcription factor activation — dom_tf_activation","text":"","code":"tf_activation <- dom_tf_activation(domino2:::pbmc_dom_built_tiny)"},{"path":"/reference/dom_zscores.html","id":null,"dir":"Reference","previous_headings":"","what":"Access z-scores — dom_zscores","title":"Access z-scores — dom_zscores","text":"function pull z-scored expression domino object","code":""},{"path":"/reference/dom_zscores.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Access z-scores — dom_zscores","text":"","code":"dom_zscores(dom)"},{"path":"/reference/dom_zscores.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Access z-scores — dom_zscores","text":"dom domino object created create_domino()","code":""},{"path":"/reference/dom_zscores.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Access z-scores — dom_zscores","text":"matrix containing z-scored gene expression values gene (row) cell (column)","code":""},{"path":"/reference/dom_zscores.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Access z-scores — dom_zscores","text":"","code":"zscores <- dom_zscores(domino2:::pbmc_dom_built_tiny)"},{"path":"/reference/domino-class.html","id":null,"dir":"Reference","previous_headings":"","what":"The domino Class — domino-class","title":"The domino Class — domino-class","text":"domino class contains information necessary calculate receptor-ligand signaling. contains z-scored expression, cell cluster labels, feature values, referenced receptor-ligand database formatted receptor-ligand map. Calculated intermediate values also stored.","code":""},{"path":"/reference/domino-class.html","id":"slots","dir":"Reference","previous_headings":"","what":"Slots","title":"The domino Class — domino-class","text":"db_info List data sets lr database. counts Raw count gene expression data z_scores Matrix z-scored expression data cells columns clusters Named factor cluster identity cell features Matrix features correlate receptor-ligand expression . Cells columns features rows. cor Correlation matrix receptor expression features. linkages List lists containing info linking cluster->tf->rec->lig clust_de Data frame containing differential expression results features cluster. misc List miscellaneous info pertaining run parameters etc. cl_signaling_matrices Incoming signaling matrix cluster signaling Signaling matrix clusters.","code":""},{"path":"/reference/feat_heatmap.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a heatmap of features organized by cluster — feat_heatmap","title":"Create a heatmap of features organized by cluster — feat_heatmap","text":"Creates heatmap feature expression (typically transcription factor activation scores) cells organized cluster.","code":""},{"path":"/reference/feat_heatmap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a heatmap of features organized by cluster — feat_heatmap","text":"","code":"feat_heatmap(   dom,   feats = NULL,   bool = FALSE,   bool_thresh = 0.2,   title = TRUE,   norm = FALSE,   cols = NULL,   ann_cols = TRUE,   min_thresh = NULL,   max_thresh = NULL,   ... )"},{"path":"/reference/feat_heatmap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a heatmap of features organized by cluster — feat_heatmap","text":"dom Domino object network built (build_domino()) feats Either vector features include heatmap '' features. left NULL features selected signaling network shown. bool Boolean indicating whether heatmap continuous boolean. boolean bool_thresh used determine define activity positive negative. bool_thresh Numeric indicating threshold separating '' '' feature activity making boolean heatmap. title Either string use title boolean describing whether include title. order pass 'main' parameter  ComplexHeatmap::Heatmap()  must set title FALSE. norm Boolean indicating whether normalize transcrption factors max value. cols Named vector colors annotate cells cluster color. Values taken colors names cluster. left NULL default ggplot colors generated. ann_cols Boolean indicating whether include cell cluster column annotation. Colors can defined cols. FALSE custom annotations can passed NMF. min_thresh Minimum threshold color scaling boolean heatmap max_thresh Maximum threshold color scaling boolean heatmap ... parameters pass  ComplexHeatmap::Heatmap() . Note use 'main' parameter  ComplexHeatmap::Heatmap()  must set title = FALSE use 'annCol' 'annColors' ann_cols must FALSE.","code":""},{"path":"/reference/feat_heatmap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a heatmap of features organized by cluster — feat_heatmap","text":"Heatmap rendered active graphics device","code":""},{"path":"/reference/feat_heatmap.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a heatmap of features organized by cluster — feat_heatmap","text":"","code":"feat_heatmap(domino2:::pbmc_dom_built_tiny, min_thresh = 0.1, max_thresh = 0.6, norm = TRUE) #> Warning: You are using norm with min_thresh and max_thresh. Note that values will be thresholded AFTER normalization."},{"path":"/reference/gene_network.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a gene association network — gene_network","title":"Create a gene association network — gene_network","text":"Create gene association network genes given cluster. selected cluster acts receptor gene association network, ligands, receptors, features associated receptor cluster included plot.","code":""},{"path":"/reference/gene_network.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a gene association network — gene_network","text":"","code":"gene_network(   dom,   clust = NULL,   OutgoingSignalingClust = NULL,   class_cols = c(lig = \"#FF685F\", rec = \"#47a7ff\", feat = \"#39C740\"),   cols = NULL,   lig_scale = 1,   layout = \"grid\",   ... )"},{"path":"/reference/gene_network.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a gene association network — gene_network","text":"dom Domino object network built (build_domino()) clust Receptor cluster create gene association network . vector clusters may provided. OutgoingSignalingClust Vector clusters plot outgoing signaling class_cols Named vector colors used color classes vertices. Values must colors names must classes ('rec', 'lig', 'feat' receptors, ligands, features.). cols Named vector colors individual genes. Genes included vector colored according class_cols. lig_scale FALSE numeric value scale size ligand vertices based z-scored expression data set. layout Type layout use. Options 'grid', 'random', 'sphere', 'circle', 'fr' Fruchterman-Reingold force directed layout, 'kk' Kamada Kawai directed layout. ... parameters pass plot() igraph object. See igraph manual options.","code":""},{"path":"/reference/gene_network.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a gene association network — gene_network","text":"igraph rendered active graphics device","code":""},{"path":"/reference/gene_network.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a gene association network — gene_network","text":"","code":"gene_network(domino2:::pbmc_dom_built_tiny, clust = \"CD8_T_cell\", OutgoingSignalingClust = \"CD14_monocyte\")"},{"path":"/reference/ggplot_col_gen.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate ggplot colors — ggplot_col_gen","title":"Generate ggplot colors — ggplot_col_gen","text":"Accepts number colors generate generates ggplot color spectrum.","code":""},{"path":"/reference/ggplot_col_gen.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate ggplot colors — ggplot_col_gen","text":"","code":"ggplot_col_gen(n)"},{"path":"/reference/ggplot_col_gen.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate ggplot colors — ggplot_col_gen","text":"n Number colors generate","code":""},{"path":"/reference/ggplot_col_gen.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate ggplot colors — ggplot_col_gen","text":"vector colors according ggplot color generation.","code":""},{"path":"/reference/incoming_signaling_heatmap.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a cluster incoming signaling heatmap — incoming_signaling_heatmap","title":"Create a cluster incoming signaling heatmap — incoming_signaling_heatmap","text":"Creates heatmap cluster incoming signaling matrix. cluster list ligands capable activating enriched transcription factors. function creates heatmap cluster average expression ligands. list cluster incoming signaling matrices can found cl_signaling_matrices slot domino option alternative plotting function.","code":""},{"path":"/reference/incoming_signaling_heatmap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a cluster incoming signaling heatmap — incoming_signaling_heatmap","text":"","code":"incoming_signaling_heatmap(   dom,   rec_clust,   clusts = NULL,   min_thresh = -Inf,   max_thresh = Inf,   scale = \"none\",   normalize = \"none\",   title = TRUE,   ... )"},{"path":"/reference/incoming_signaling_heatmap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a cluster incoming signaling heatmap — incoming_signaling_heatmap","text":"dom Domino object network built (build_domino()) rec_clust cluster select receptor. Must match naming clusters domino object. clusts Vector clusters included. NULL clusters used. min_thresh Minimum signaling threshold plotting. Defaults -Inf threshold. max_thresh Maximum signaling threshold plotting. Defaults Inf threshold. scale scale values (thresholding). Options 'none', 'sqrt' square root, 'log' log10. normalize Options normalize matrix. Accepted inputs 'none' normalization, 'rec_norm' normalize maximum value receptor cluster, 'lig_norm' normalize maximum value within ligand cluster title Either string use title boolean describing whether include title. order pass 'main' parameter  ComplexHeatmap::Heatmap()  must set title FALSE. ... parameters pass  ComplexHeatmap::Heatmap(). Note use 'column_title' parameter  ComplexHeatmap::Heatmap()  must set title = FALSE","code":""},{"path":"/reference/incoming_signaling_heatmap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a cluster incoming signaling heatmap — incoming_signaling_heatmap","text":"Heatmap rendered active graphics device","code":""},{"path":"/reference/incoming_signaling_heatmap.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a cluster incoming signaling heatmap — incoming_signaling_heatmap","text":"","code":"incoming_signaling_heatmap(domino2:::pbmc_dom_built_tiny, \"CD8_T_cell\")"},{"path":"/reference/lc.html","id":null,"dir":"Reference","previous_headings":"","what":"Pulls all items from a list pooled into a single vector — lc","title":"Pulls all items from a list pooled into a single vector — lc","text":"Helper function convert nested series lists single vector.","code":""},{"path":"/reference/lc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pulls all items from a list pooled into a single vector — lc","text":"","code":"lc(list, list_names)"},{"path":"/reference/lc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pulls all items from a list pooled into a single vector — lc","text":"list List pull items list_names Names items list pool","code":""},{"path":"/reference/lc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pulls all items from a list pooled into a single vector — lc","text":"vector contaning items list list_names","code":""},{"path":"/reference/linkage_summary-class.html","id":null,"dir":"Reference","previous_headings":"","what":"The domino linkage summary class — linkage_summary-class","title":"The domino linkage summary class — linkage_summary-class","text":"linkage summary class contains linkages established multiple domino objects gene regulatory network inference reference receptor- ligand data bases. data frame summarizing meta features describe domino objects compared linkage summary facilitates comparisons established linkages differential signaling interactions across categorical sample covariates.","code":""},{"path":"/reference/linkage_summary-class.html","id":"slots","dir":"Reference","previous_headings":"","what":"Slots","title":"The domino linkage summary class — linkage_summary-class","text":"subject_names unique names domino result included summary subject_meta data.frame row describing one subject columns describing features subjects draw comparisons signaling networks subject_linkages nested list linkages inferred subject. Lists stored heirarchical structure subject-cluster-linkage linkages include transcription factors (tfs), linkages transcription factors receptors (tfs_rec), active receptors (rec), possible receptor-ligand interactions (rec_lig), incoming ligands (incoming_lig)","code":""},{"path":"/reference/mean_ligand_expression.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate mean ligand expression as a data.frame for plotting in circos plot — mean_ligand_expression","title":"Calculate mean ligand expression as a data.frame for plotting in circos plot — mean_ligand_expression","text":"Creates data frame mean ligand expression use plotting circos plot ligand expression saving tables mean expression.","code":""},{"path":"/reference/mean_ligand_expression.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate mean ligand expression as a data.frame for plotting in circos plot — mean_ligand_expression","text":"","code":"mean_ligand_expression(x, ligands, cell_ident, cell_barcodes, destination)"},{"path":"/reference/mean_ligand_expression.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate mean ligand expression as a data.frame for plotting in circos plot — mean_ligand_expression","text":"x Gene cell expression matrix ligands Character vector ligand genes quantified cell_ident Vector cell type (identity) names calculate mean ligand gene expression cell_barcodes Vector cell barcodes (colnames x) belonging cell_ident calculate mean expression across destination Name receptor ligand interacts","code":""},{"path":"/reference/mean_ligand_expression.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate mean ligand expression as a data.frame for plotting in circos plot — mean_ligand_expression","text":"data frame ligand expression targeting specified receptor","code":""},{"path":"/reference/mean_ligand_expression.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate mean ligand expression as a data.frame for plotting in circos plot — mean_ligand_expression","text":"","code":"counts <- dom_counts(domino2:::pbmc_dom_built_tiny) mean_exp <- mean_ligand_expression(counts,  ligands = c(\"PTPRC\", \"FASLG\"), cell_ident = \"CD14_monocyte\",  cell_barcodes = colnames(counts), destination = \"FAS\")"},{"path":"/reference/pbmc.html","id":null,"dir":"Reference","previous_headings":"","what":"PBMC3K single cell RNA sequencing data — pbmc","title":"PBMC3K single cell RNA sequencing data — pbmc","text":"small example single cell data set 10x genomcs","code":""},{"path":"/reference/pbmc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"PBMC3K single cell RNA sequencing data — pbmc","text":"","code":"pbmc"},{"path":[]},{"path":"/reference/pbmc.html","id":"pbmc","dir":"Reference","previous_headings":"","what":"pbmc","title":"PBMC3K single cell RNA sequencing data — pbmc","text":"Seurat object preliminary analysis, including normalization, scaling, PCA, UMAP, clustering, cluster annotation","code":""},{"path":"/reference/pbmc.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"PBMC3K single cell RNA sequencing data — pbmc","text":"https://cf.10xgenomics.com/samples/cell/pbmc3k/pbmc3k_filtered_gene_bc_matrices.tar.gz","code":""},{"path":"/reference/pbmc_dom.html","id":null,"dir":"Reference","previous_headings":"","what":"Example domino object from pbmc3k data — pbmc_dom","title":"Example domino object from pbmc3k data — pbmc_dom","text":"small example single cell data set 10x Genomics preliminary analysis, including normalization, scaling, PCA, UMAP, clustering, cluster annotation used example domino2 analysis.","code":""},{"path":"/reference/pbmc_dom.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example domino object from pbmc3k data — pbmc_dom","text":"","code":"data(pbmc_dom)"},{"path":[]},{"path":"/reference/pbmc_dom.html","id":"pbmc-dom","dir":"Reference","previous_headings":"","what":"pbmc_dom","title":"Example domino object from pbmc3k data — pbmc_dom","text":"domino object based 10x Genomics pbmc3k data set serves example tutorials can also used explore object structure functionality.","code":""},{"path":"/reference/plot_differential_linkages.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot differential linkages among domino results ranked by a comparative statistic — plot_differential_linkages","title":"Plot differential linkages among domino results ranked by a comparative statistic — plot_differential_linkages","text":"Plot differential linkages among domino results ranked comparative statistic","code":""},{"path":"/reference/plot_differential_linkages.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot differential linkages among domino results ranked by a comparative statistic — plot_differential_linkages","text":"","code":"plot_differential_linkages(   differential_linkages,   test_statistic,   stat_range = c(0, 1),   stat_ranking = c(\"ascending\", \"descending\"),   group_palette = NULL )"},{"path":"/reference/plot_differential_linkages.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot differential linkages among domino results ranked by a comparative statistic — plot_differential_linkages","text":"differential_linkages data.frame output test_differential_linkages function test_statistic column name differential_linkages test statistic used ranking linkages stored (ex. 'p.value') stat_range two value vector minimum maximum values test_statistic plotting linkage features stat_ranking 'ascending' (lowest value test statisic colored red plotted top) 'descending' (highest value test statistic colored red plotted top). group_palette named vector colors use group compared","code":""},{"path":"/reference/plot_differential_linkages.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot differential linkages among domino results ranked by a comparative statistic — plot_differential_linkages","text":"Heatmap-class object features ranked test_statistic annotated proportion subjects showed active linkage features.","code":""},{"path":"/reference/print-domino-method.html","id":null,"dir":"Reference","previous_headings":"","what":"Print domino object — print,domino-method","title":"Print domino object — print,domino-method","text":"Prints summary domino object","code":""},{"path":"/reference/print-domino-method.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print domino object — print,domino-method","text":"","code":"# S4 method for domino print(x, ...)"},{"path":"/reference/print-domino-method.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print domino object — print,domino-method","text":"x Domino object","code":""},{"path":"/reference/print-domino-method.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print domino object — print,domino-method","text":"printed description number cell clusters object","code":""},{"path":"/reference/print-domino-method.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print domino object — print,domino-method","text":"","code":"print(domino2:::pbmc_dom_built_tiny) #> A domino object of 360 cells #> Built with signaling between 3 clusters"},{"path":"/reference/rename_clusters.html","id":null,"dir":"Reference","previous_headings":"","what":"Renames clusters in a domino object — rename_clusters","title":"Renames clusters in a domino object — rename_clusters","text":"function reads receptor ligand signaling database, cell level features kind (ie. output pySCENIC), z-scored single cell data, cluster id single cell data, calculates correlation matrix receptors features (transcription factor module scores using pySCENIC), finds features enriched cluster. return domino object prepared build_domino(), calculate signaling network.","code":""},{"path":"/reference/rename_clusters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Renames clusters in a domino object — rename_clusters","text":"","code":"rename_clusters(dom, clust_conv)"},{"path":"/reference/rename_clusters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Renames clusters in a domino object — rename_clusters","text":"dom Domino object rename clusters clust_conv Named vector conversions old new clusters. Values taken new clusters IDs names old cluster IDs.","code":""},{"path":"/reference/rename_clusters.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Renames clusters in a domino object — rename_clusters","text":"domino object clusters renamed applicable slots.","code":""},{"path":"/reference/rename_clusters.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Renames clusters in a domino object — rename_clusters","text":"","code":"new_clust <- c(\"CD8_T_cell\" = \"CD8+ T Cells\",  \"CD14_monocyte\" = \"CD14+ Monocytes\", \"B_cell\" = \"B Cells\") pbmc_dom_built_tiny <- rename_clusters(domino2:::pbmc_dom_built_tiny, new_clust)"},{"path":"/reference/show-domino-method.html","id":null,"dir":"Reference","previous_headings":"","what":"Show domino object information — show,domino-method","title":"Show domino object information — show,domino-method","text":"Shows content overview domino object","code":""},{"path":"/reference/show-domino-method.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show domino object information — show,domino-method","text":"","code":"# S4 method for domino show(object)"},{"path":"/reference/show-domino-method.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Show domino object information — show,domino-method","text":"object Domino object","code":""},{"path":"/reference/show-domino-method.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Show domino object information — show,domino-method","text":"printed description number cells domino object build status","code":""},{"path":"/reference/show-domino-method.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Show domino object information — show,domino-method","text":"","code":"domino2:::pbmc_dom_built_tiny #> A domino object of 360 cells #> Built with signaling between 3 clusters  show(domino2:::pbmc_dom_built_tiny) #> A domino object of 360 cells #> Built with signaling between 3 clusters"},{"path":"/reference/signaling_heatmap.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a network heatmap — signaling_heatmap","title":"Create a network heatmap — signaling_heatmap","text":"Creates heatmap signaling network. Alternatively, network matrix can accessed directly signaling slot domino object.","code":""},{"path":"/reference/signaling_heatmap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a network heatmap — signaling_heatmap","text":"","code":"signaling_heatmap(   dom,   clusts = NULL,   min_thresh = -Inf,   max_thresh = Inf,   scale = \"none\",   normalize = \"none\",   ... )"},{"path":"/reference/signaling_heatmap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a network heatmap — signaling_heatmap","text":"dom Domino object network built (build_domino()) clusts Vector clusters included. NULL clusters used. min_thresh Minimum signaling threshold plotting. Defaults -Inf threshold. max_thresh Maximum signaling threshold plotting. Defaults Inf threshold. scale scale values (thresholding). Options 'none', 'sqrt' square root, 'log' log10. normalize Options normalize matrix. Normalization done thresholding scaling. Accepted inputs 'none' normalization, 'rec_norm' normalize maximum value receptor cluster, 'lig_norm' normalize maximum value within ligand cluster ... parameters pass  ComplexHeatmap::Heatmap()","code":""},{"path":"/reference/signaling_heatmap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a network heatmap — signaling_heatmap","text":"Heatmap rendered active graphics device","code":""},{"path":"/reference/signaling_heatmap.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a network heatmap — signaling_heatmap","text":"","code":"signaling_heatmap(domino2:::pbmc_dom_built_tiny)"},{"path":"/reference/signaling_network.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a cluster to cluster signaling network diagram — signaling_network","title":"Create a cluster to cluster signaling network diagram — signaling_network","text":"Creates network diagram signaling clusters. Nodes clusters directed edges indicate signaling one cluster another. Edges colored based color scheme ligand expressing cluster.","code":""},{"path":"/reference/signaling_network.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a cluster to cluster signaling network diagram — signaling_network","text":"","code":"signaling_network(   dom,   cols = NULL,   edge_weight = 0.3,   clusts = NULL,   showOutgoingSignalingClusts = NULL,   showIncomingSignalingClusts = NULL,   min_thresh = -Inf,   max_thresh = Inf,   normalize = \"none\",   scale = \"sq\",   layout = \"circle\",   scale_by = \"rec_sig\",   vert_scale = 3,   plot_title = NULL,   ... )"},{"path":"/reference/signaling_network.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a cluster to cluster signaling network diagram — signaling_network","text":"dom Domino object network built (build_domino()) cols Named vector indicating colors clusters. Values colors names must match clusters domino object. left NULL ggplot colors generated clusters. edge_weight Weight determining thickness edges plot. Signaling values multiplied value. clusts Vector clusters included network plot. showOutgoingSignalingClusts Vector clusters plot outgoing signaling showIncomingSignalingClusts Vector clusters plot incoming signaling min_thresh Minimum signaling threshold. Values lower threshold set threshold. Defaults -Inf threshold. max_thresh Maximum signaling threshold plotting. Values higher threshold set threshold. Defaults Inf threshold. normalize Options normalize signaling matrix. Accepted inputs 'none' normalization, 'rec_norm' normalize maximum value receptor cluster, 'lig_norm' normalize maximum value within ligand cluster scale scale values (thresholding). Options 'none', 'sqrt' square root, 'log' log10, 'sq' square. layout Type layout use. Options 'random', 'sphere', 'circle', 'fr' Fruchterman-Reingold force directed layout, 'kk' Kamada Kawai directed layout. scale_by size vertices. Options 'lig_sig' summed outgoing signaling, 'rec_sig' summed incoming signaling, 'none'. former two cases values scaled asinh summing incoming outgoing signaling. vert_scale Integer used scale size vertices without variable scaling size_verts_by. plot_title Text plot's title. ... parameters passed plot used {igraph} object.","code":""},{"path":"/reference/signaling_network.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a cluster to cluster signaling network diagram — signaling_network","text":"igraph rendered active graphics device","code":""},{"path":"/reference/signaling_network.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a cluster to cluster signaling network diagram — signaling_network","text":"","code":"signaling_network(domino2:::pbmc_dom_built_tiny, layout = \"fr\")"},{"path":"/reference/summarize_linkages.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarize linkages from multiple domino objects — summarize_linkages","title":"Summarize linkages from multiple domino objects — summarize_linkages","text":"Creates linkage_summary object storing linkages learned different domino objects nested lists facilitate comparisons networks learned domino across subject covariates.","code":""},{"path":"/reference/summarize_linkages.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarize linkages from multiple domino objects — summarize_linkages","text":"","code":"summarize_linkages(domino_results, subject_meta, subject_names = NULL)"},{"path":"/reference/summarize_linkages.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarize linkages from multiple domino objects — summarize_linkages","text":"domino_results list domino result one domino object per subject. Names list must match subject_names. subject_meta dataframe includes subject features objects grouped. first column must subject names subject_names vector subject names domino_results. NULL, defaults first column subject_meta.","code":""},{"path":"/reference/summarize_linkages.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarize linkages from multiple domino objects — summarize_linkages","text":"linkage summary class object consisting nested lists active transcription factors, active receptors, incoming ligands cluster across multiple domino results.","code":""},{"path":"/reference/table_convert_genes.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert Genes Using Table — table_convert_genes","title":"Convert Genes Using Table — table_convert_genes","text":"Takes vector gene inputs conversion table (example returns converted gene table","code":""},{"path":"/reference/table_convert_genes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert Genes Using Table — table_convert_genes","text":"","code":"table_convert_genes(genes, from, to, conversion_table)"},{"path":"/reference/table_convert_genes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert Genes Using Table — table_convert_genes","text":"genes genes convert. Gene symbol type input (ENSG, ENSMUSG, HGNC, MGI) Desired gene symbol type output (HGNC, MGI) conversion_table data.frame column names corresponding gene symbol types (mm.ens, hs.ens, mgi, hgnc) rows corresponding gene symbols ","code":""},{"path":"/reference/table_convert_genes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert Genes Using Table — table_convert_genes","text":"Data frame genes original corresponding converted symbols","code":""},{"path":"/reference/test_differential_linkages.html","id":null,"dir":"Reference","previous_headings":"","what":"Statistical test for differential linkages across multiple domino results — test_differential_linkages","title":"Statistical test for differential linkages across multiple domino results — test_differential_linkages","text":"Statistical test differential linkages across multiple domino results","code":""},{"path":"/reference/test_differential_linkages.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Statistical test for differential linkages across multiple domino results — test_differential_linkages","text":"","code":"test_differential_linkages(   linkage_summary,   cluster,   group.by,   linkage = \"rec_lig\",   subject_names = NULL,   test_name = \"fishers.exact\" )"},{"path":"/reference/test_differential_linkages.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Statistical test for differential linkages across multiple domino results — test_differential_linkages","text":"linkage_summary linkage_summary object cluster name cell cluster compared across multiple domino results group.name column linkage_summary\\@subject_meta group subjects counting. linkage stored linkage domino object. Can compare ('tfs', 'rec', 'incoming_lig', 'tfs_rec', 'rec_lig') subject_names vector subject_names linkage_summary compared. NULL, subject_names linkage summary included counting. test_name statistical test used comparison. 'fishers.exact' : Fisher's exact test dependence proportion subjects active linkage cluster group subject belongs group.variable. Provides odds ratio, p-value, Benjamini-Hochberg FDR-adjusted p-value (p.adj) linkage tested.","code":""},{"path":"/reference/test_differential_linkages.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Statistical test for differential linkages across multiple domino results — test_differential_linkages","text":"data frame results test differential linkages. Rows correspond linkage tested. Columns correspond : 'cluster' : name cell cluster compared 'linkage' : type linkage compared 'group.' : grouping variable 'test_name' : test used comparison 'feature' : individual linkages compared 'test statistics' : test statistics provided based test method. 'fishers.exact' provides odds ratio, p-value, fdr-adjusted p-value. 'total_count' : total number subjects linkage active 'X_count' : number subjects category group.(X) linkage active 'total_n' : number total subjects compared 'X_n' : total number subjects category group.(X)","code":""}]
